{"remainingRequest":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/thread-loader/dist/cjs.js!/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-3!/Users/lianfangti/Project/UNI-APP/JIGE/src/utils/cache.js","dependencies":[{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/src/utils/cache.js","mtime":1562658653957},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Cache =\n/*#__PURE__*/\nfunction () {\n  function Cache() {\n    _classCallCheck(this, Cache);\n  }\n\n  _createClass(Cache, [{\n    key: \"set\",\n    value: function set(key, value) {\n      var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n          _ref$sync = _ref.sync,\n          sync = _ref$sync === void 0 ? true : _ref$sync;\n\n      // sync为true时 默认为同步\n      value = value instanceof Object ? JSON.stringify(value) : value; // console.log(`调试:value的值 `, value,typeof(value));\n\n      if (sync) {\n        return uni.setStorageSync(key, value);\n      } else {\n        // 为false时 为异步  返回 Promise\n        return new Promise(function (resolve, reject) {\n          uni.setStorage({\n            key: key,\n            data: value,\n            success: resolve,\n            fail: reject\n          });\n        });\n      }\n    }\n  }, {\n    key: \"get\",\n    value: function get(key) {\n      var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref2$sync = _ref2.sync,\n          sync = _ref2$sync === void 0 ? true : _ref2$sync;\n\n      if (sync) {\n        var value = uni.getStorageSync(key);\n\n        if (this.isJSON(value)) {\n          value = JSON.parse(value);\n        }\n\n        return value;\n      } else {\n        // 为false时 为异步  返回 Promise\n        return new Promise(function (resolve, reject) {\n          uni.getStorage({\n            key: key,\n            success: resolve,\n            fail: reject\n          });\n        });\n      }\n    }\n  }, {\n    key: \"del\",\n    value: function del(key) {\n      var _ref3 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref3$sync = _ref3.sync,\n          sync = _ref3$sync === void 0 ? true : _ref3$sync;\n\n      if (sync) {\n        return uni.removeStorageSync(key);\n      } else {\n        // 为false时 为异步  返回 Promise\n        return new Promise(function (resolve, reject) {\n          uni.removeStorage({\n            key: key,\n            success: resolve,\n            fail: reject\n          });\n        });\n      }\n    }\n  }, {\n    key: \"isJSON\",\n    value: function isJSON(str) {\n      try {\n        if (_typeof(JSON.parse(str)) == \"object\") {\n          return true;\n        }\n      } catch (e) {}\n\n      return false;\n    }\n  }]);\n\n  return Cache;\n}();\n\nvar cache = new Cache();\nvar _default = cache;\nexports.default = _default;",{"version":3,"sources":["/Users/lianfangti/Project/UNI-APP/JIGE/src/utils/cache.js"],"names":["Cache","key","value","sync","Object","JSON","stringify","uni","setStorageSync","Promise","resolve","reject","setStorage","data","success","fail","getStorageSync","isJSON","parse","getStorage","removeStorageSync","removeStorage","str","e","cache"],"mappings":";;;;;;;;;;;;;;;IAAMA,K;;;;;;;;;wBACEC,G,EAAKC,K,EAA2B;AAAA,qFAAJ,EAAI;AAAA,2BAAnBC,IAAmB;AAAA,UAAnBA,IAAmB,0BAAZ,IAAY;;AAChC;AACAD,MAAAA,KAAK,GAAIA,KAAK,YAAYE,MAAlB,GAA4BC,IAAI,CAACC,SAAL,CAAeJ,KAAf,CAA5B,GAAoDA,KAA5D,CAFgC,CAGhC;;AACA,UAAIC,IAAJ,EAAU;AACN,eAAOI,GAAG,CAACC,cAAJ,CAAmBP,GAAnB,EAAuBC,KAAvB,CAAP;AACH,OAFD,MAEO;AAAG;AACN,eAAO,IAAIO,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCJ,UAAAA,GAAG,CAACK,UAAJ,CAAe;AACXX,YAAAA,GAAG,EAAHA,GADW;AAEXY,YAAAA,IAAI,EAAEX,KAFK;AAGXY,YAAAA,OAAO,EAAEJ,OAHE;AAIXK,YAAAA,IAAI,EAAEJ;AAJK,WAAf;AAMH,SAPM,CAAP;AASH;AACJ;;;wBAEGV,G,EAAyB;AAAA,sFAAJ,EAAI;AAAA,6BAAnBE,IAAmB;AAAA,UAAnBA,IAAmB,2BAAZ,IAAY;;AACzB,UAAIA,IAAJ,EAAU;AACN,YAAID,KAAK,GAAIK,GAAG,CAACS,cAAJ,CAAmBf,GAAnB,CAAb;;AACA,YAAG,KAAKgB,MAAL,CAAYf,KAAZ,CAAH,EAAsB;AAClBA,UAAAA,KAAK,GAAGG,IAAI,CAACa,KAAL,CAAWhB,KAAX,CAAR;AACH;;AACD,eAAOA,KAAP;AACH,OAND,MAMO;AAAG;AACN,eAAO,IAAIO,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCJ,UAAAA,GAAG,CAACY,UAAJ,CAAe;AACXlB,YAAAA,GAAG,EAAHA,GADW;AAEXa,YAAAA,OAAO,EAAEJ,OAFE;AAGXK,YAAAA,IAAI,EAAEJ;AAHK,WAAf;AAKH,SANM,CAAP;AAQH;AAEJ;;;wBAEGV,G,EAAyB;AAAA,sFAAJ,EAAI;AAAA,6BAAnBE,IAAmB;AAAA,UAAnBA,IAAmB,2BAAZ,IAAY;;AACzB,UAAIA,IAAJ,EAAU;AACN,eAAOI,GAAG,CAACa,iBAAJ,CAAsBnB,GAAtB,CAAP;AACH,OAFD,MAEO;AAAG;AACN,eAAO,IAAIQ,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCJ,UAAAA,GAAG,CAACc,aAAJ,CAAkB;AACdpB,YAAAA,GAAG,EAAHA,GADc;AAEda,YAAAA,OAAO,EAAEJ,OAFK;AAGdK,YAAAA,IAAI,EAAEJ;AAHQ,WAAlB;AAKH,SANM,CAAP;AAQH;AAGJ;;;2BACKW,G,EAAK;AACP,UAAI;AACA,YAAI,QAAOjB,IAAI,CAACa,KAAL,CAAWI,GAAX,CAAP,KAA0B,QAA9B,EAAwC;AACpC,iBAAO,IAAP;AACH;AACJ,OAJD,CAIE,OAAMC,CAAN,EAAS,CACV;;AACD,aAAO,KAAP;AACH;;;;;;AAIL,IAAMC,KAAK,GAAG,IAAIxB,KAAJ,EAAd;eACewB,K","sourcesContent":["class Cache {\n    set(key, value, {sync = true} = {}) {\n        // sync为true时 默认为同步\n        value = (value instanceof Object) ? JSON.stringify(value) : value;\n        // console.log(`调试:value的值 `, value,typeof(value));\n        if (sync) {\n            return uni.setStorageSync(key,value)\n        } else {  // 为false时 为异步  返回 Promise\n            return new Promise((resolve, reject) => {\n                uni.setStorage({\n                    key,\n                    data: value,\n                    success: resolve,\n                    fail: reject\n                })\n            })\n\n        }\n    }\n\n    get(key, {sync = true} = {}) {\n        if (sync) {\n            let value =  uni.getStorageSync(key);\n            if(this.isJSON(value)){\n                value = JSON.parse(value)\n            }\n            return value;\n        } else {  // 为false时 为异步  返回 Promise\n            return new Promise((resolve, reject) => {\n                uni.getStorage({\n                    key,\n                    success: resolve,\n                    fail: reject\n                })\n            })\n\n        }\n\n    }\n\n    del(key, {sync = true} = {}) {\n        if (sync) {\n            return uni.removeStorageSync(key)\n        } else {  // 为false时 为异步  返回 Promise\n            return new Promise((resolve, reject) => {\n                uni.removeStorage({\n                    key,\n                    success: resolve,\n                    fail: reject\n                })\n            })\n\n        }\n\n\n    }\n   isJSON(str) {\n        try {\n            if (typeof JSON.parse(str) == \"object\") {\n                return true;\n            }\n        } catch(e) {\n        }\n        return false;\n    }\n\n}\n\nconst cache = new Cache();\nexport default cache\n"]}]}