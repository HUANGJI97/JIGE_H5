{"remainingRequest":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/thread-loader/dist/cjs.js!/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-3!/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js!/Users/lianfangti/Project/UNI-APP/JIGE/src/pages/index/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/src/pages/index/index.vue","mtime":1562228497553},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@babel/runtime/regenerator\"));\n\nvar _fs = require(\"fs\");\n\nvar _modal = _interopRequireDefault(require(\"../component/modal\"));\n\nvar _card = require(\"../../api/card\");\n\nvar _page = _interopRequireDefault(require(\"../component/page/page\"));\n\nvar _status = _interopRequireDefault(require(\"../component/status\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar utils = require(\"../../utils/utils\");\n\nvar _default = {\n  components: {\n    Status: _status.default,\n    Page: _page.default,\n    Modal: _modal.default\n  },\n  data: function data() {\n    return {\n      modalEditName: false,\n      modalUnBindCard: false,\n      buttons: [{\n        text: '添加卡片',\n        key: 'add_card'\n      }],\n      cardCur: 0,\n      StatusBar: this.StatusBar,\n      CustomBar: this.CustomBar,\n      colorMap: {\n        '正常': 'bg-green',\n        '已挂失': 'bg-orange',\n        '冻结': 'bg-red'\n      },\n      cardBg: [\"https://deepand.oss-cn-shenzhen.aliyuncs.com/icon/bg1.jpg\", \"https://deepand.oss-cn-shenzhen.aliyuncs.com/icon/visa-bg-3.jpg\", \"https://deepand.oss-cn-shenzhen.aliyuncs.com/icon/visa-bg-4.jpg\"],\n      dotStyle: false,\n      towerStart: 0,\n      direction: '',\n      cardInfo: {},\n      cards: [],\n      title: \"Hello\",\n      index: 0,\n      elements: [{\n        key: 'card_edit',\n        title: \"卡操作\",\n        name: \"限购设置 卡挂失\",\n        color: \"cyan\",\n        icon: \"newsfill\",\n        url: '../editCard/editCard'\n      }, {\n        key: 'recharge',\n        title: \"账户充值\",\n        name: \"4月16日 充值100\",\n        color: \"blue\",\n        icon: \"pay\",\n        url: \"../recharge/recharge\"\n      }, {\n        title: \"消费记录\",\n        name: \"consume\",\n        color: \"purple\",\n        icon: \"refund\",\n        //consumeRecord\n        url: '../consumeRecord/consumeRecord'\n      }, {\n        title: \"充值记录 \",\n        name: \"recharge\",\n        color: \"mauve\",\n        icon: \"moneybagfill\",\n        url: \"../rechargeRecord/rechargeRecord\"\n      }]\n    };\n  },\n  onLoad: function () {\n    var _onLoad = _asyncToGenerator(\n    /*#__PURE__*/\n    _regenerator.default.mark(function _callee() {\n      return _regenerator.default.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              this.loadData(); // this.elements[1]['name']=cards[0]['recharge'];\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function onLoad() {\n      return _onLoad.apply(this, arguments);\n    }\n\n    return onLoad;\n  }(),\n  onShow: function () {\n    var _onShow = _asyncToGenerator(\n    /*#__PURE__*/\n    _regenerator.default.mark(function _callee2() {\n      return _regenerator.default.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.loadData(); // return 0;\n              // this.cardInfo = await  getCardInfo({cardno:this.cardInfo['cardno']});\n              //\n              // this.elements[1]['name'] = this.cardInfo['lastrecharge']['date'];\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function onShow() {\n      return _onShow.apply(this, arguments);\n    }\n\n    return onShow;\n  }(),\n  methods: {\n    handleButtonTap: function handleButtonTap(_ref) {\n      var key = _ref.key;\n\n      // console.log(`调试:`, e)\n      if (key === 'add_card') {\n        this.handleAddCard();\n      }\n    },\n    loadData: function () {\n      var _loadData = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee3() {\n        var cards;\n        return _regenerator.default.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return (0, _card.getCardList)();\n\n              case 2:\n                cards = _context3.sent;\n\n                if (!(cards.length < 1)) {\n                  _context3.next = 6;\n                  break;\n                }\n\n                this.cards = [];\n                return _context3.abrupt(\"return\", 0);\n\n              case 6:\n                this.cards = cards;\n                this.switchCard(0);\n\n              case 8:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function loadData() {\n        return _loadData.apply(this, arguments);\n      }\n\n      return loadData;\n    }(),\n    // 卡片菜单点击\n    handleElementsTap: function handleElementsTap(e) {\n      var currentTarget = e.currentTarget,\n          dataset = currentTarget.dataset,\n          data = dataset.data;\n\n      switch (data.key) {\n        case \"card_edit\":\n          utils.navigateTo({\n            url: data.url,\n            params: _objectSpread({}, this.cardInfo)\n          });\n          break;\n\n        case \"recharge\":\n          utils.navigateTo({\n            url: data.url,\n            params: _objectSpread({}, this.cardInfo)\n          });\n          break;\n\n        default:\n          utils.navigateTo({\n            url: data.url,\n            params: _objectSpread({}, this.cardInfo)\n          });\n          break;\n      }\n\n      console.log(\"\\u8C03\\u8BD5:data\", data);\n    },\n    cardSwiper: function () {\n      var _cardSwiper = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee4(e) {\n        return _regenerator.default.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                this.cardCur = e.detail.current;\n                this.switchCard(this.cardCur);\n\n              case 2:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function cardSwiper(_x) {\n        return _cardSwiper.apply(this, arguments);\n      }\n\n      return cardSwiper;\n    }(),\n    switchCard: function () {\n      var _switchCard = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee5(index) {\n        return _regenerator.default.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return (0, _card.getCardInfo)({\n                  cardno: this.cards[index]\n                });\n\n              case 2:\n                this.cardInfo = _context5.sent;\n                console.log(\"\\u8C03\\u8BD5:switchCard\\u65B9\\u6CD5\\u4E2D \\u5F53\\u524Dcards\", this.cards);\n                console.log(\"\\u8C03\\u8BD5: \\u5F53\\u524Dcardinfo\", this.cardInfo); // let {date,money,give} = this.cardInfo['lastrecharge'];\n\n                this.elements[1]['name'] = this.cardInfo['lastrecharge'];\n\n              case 6:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function switchCard(_x2) {\n        return _switchCard.apply(this, arguments);\n      }\n\n      return switchCard;\n    }(),\n    handleNavigatorClick: function handleNavigatorClick(e) {\n      var url = e.target.dataset.url;\n      uni.navigateTo({\n        url: url\n      });\n      console.log(\"\\u8C03\\u8BD5:\", url);\n    },\n    PickerChange: function PickerChange(e) {\n      this.cardCur = e.detail.value;\n    },\n    handleEditName: function handleEditName() {\n      console.log(\"\\u8C03\\u8BD5:\\u4E8B\\u4EF6\\u8C03\\u7528\\u6210\\u529F\");\n      this.modalEditName = true;\n    },\n    handleNameChange: function handleNameChange(e) {\n      var value = e.detail.value;\n      this.tempCardName = value;\n      console.log(\"\\u8C03\\u8BD5:\", value);\n    },\n    //更改名字提交\n    handleEditNameCancel: function () {\n      var _handleEditNameCancel = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee6() {\n        return _regenerator.default.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                // this.cards[this.cardCur]['name']=this.tempCardName;\n                // uni.showLoading({ title:'请稍后...' });\n                // let  cardno = this.cardInfo.cardno;\n                // let name = this.cardInfo.cardname\n                // await  updateCardName({cardno,name});\n                // uni.hideLoading();\n                uni.showToast({\n                  title: '取消了操作'\n                });\n                console.log(\"\\u8C03\\u8BD5:\\u4F60\\u70B9\\u51FB\\u4E86\\u786E\\u5B9A\");\n\n              case 2:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      function handleEditNameCancel() {\n        return _handleEditNameCancel.apply(this, arguments);\n      }\n\n      return handleEditNameCancel;\n    }(),\n    //更改名字提交\n    handleEditSubmit: function () {\n      var _handleEditSubmit = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee7() {\n        var cardno, name;\n        return _regenerator.default.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                // this.cards[this.cardCur]['name']=this.tempCardName;\n                uni.showLoading({\n                  title: '请稍后...'\n                });\n                cardno = this.cardInfo.cardno;\n                name = this.cardInfo.cardname;\n                _context7.next = 5;\n                return (0, _card.updateCardName)({\n                  cardno: cardno,\n                  name: name\n                });\n\n              case 5:\n                uni.hideLoading();\n                uni.showToast({\n                  type: 'success',\n                  title: '修改成功'\n                });\n                console.log(\"\\u8C03\\u8BD5:\\u4F60\\u70B9\\u51FB\\u4E86\\u786E\\u5B9A\");\n\n              case 8:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function handleEditSubmit() {\n        return _handleEditSubmit.apply(this, arguments);\n      }\n\n      return handleEditSubmit;\n    }(),\n    //显示解绑卡片提示\n    showUnbindModal: function showUnbindModal() {\n      this.modalUnBindCard = true;\n    },\n    //解绑卡片提交\n    handleUnBindCard: function () {\n      var _handleUnBindCard = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee8() {\n        var com, res;\n        return _regenerator.default.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _context8.next = 2;\n                return utils.comfirm({\n                  title: '解绑卡片',\n                  content: '是否确认解绑'\n                });\n\n              case 2:\n                com = _context8.sent;\n\n                if (!com) {\n                  _context8.next = 12;\n                  break;\n                }\n\n                uni.showLoading({\n                  title: '解绑中...'\n                });\n                _context8.next = 7;\n                return (0, _card.unLinkCard)({\n                  cardno: this.cardInfo.cardno\n                }).catch(function (err) {\n                  uni.hideLoading();\n                  uni.showToast({\n                    icon: 'none',\n                    title: '解绑失败'\n                  });\n                });\n\n              case 7:\n                res = _context8.sent;\n                console.log(\"\\u8C03\\u8BD5:\\u89E3\\u7ED1\\u8FD4\\u56DE\\u503C\", res);\n                uni.hideLoading();\n                uni.showToast({\n                  title: '解绑成功'\n                }); // this.loadData();\n\n                uni.reLaunch({\n                  url: '../index/index'\n                });\n\n              case 12:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function handleUnBindCard() {\n        return _handleUnBindCard.apply(this, arguments);\n      }\n\n      return handleUnBindCard;\n    }(),\n    //添加卡片\n    handleAddCard: function handleAddCard() {\n      uni.navigateTo({\n        url: '../addCard/addCard'\n      });\n    }\n  }\n};\nexports.default = _default;",{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template name=\"basics\">\r\n    <page title=\"校园牛奶机\">\r\n        <status v-if=\"cards.length < 1\" text=\"暂无卡片\" image=\"../../static/card.png\" :buttons=\"buttons\" @buttonTap=\"handleButtonTap\"></status>\r\n        <view v-else>\r\n            <view class='flex margin-left-sm'>\r\n                <view  hover-class=\"text-green\" >\r\n                    <text class='cuIcon-roundadd'></text>\r\n                    <text class=\"text-df\" data-url=\"../addCard/addCard\" @click=\"handleNavigatorClick\">添加卡片</text>\r\n                </view>\r\n                <view  class=\"margin-left-sm\" hover-class=\"text-green\">\r\n                    <text class='cuIcon-unlock'></text>\r\n                    <text class=\"text-df\" @click=\"handleUnBindCard\">解绑卡片</text>\r\n                </view>\r\n            </view>\r\n            <swiper class=\"card-swiper \" :class=\"!dotStyle?'square-dot':'round-dot'\" :indicator-dots=\"false\" :circular=\"true\"\r\n                    :autoplay=\"false\" interval=\"5000\" duration=\"500\" @change=\"cardSwiper\" indicator-color=\"#8799a3\"\r\n                    indicator-active-color=\"#000000\">\r\n                <swiper-item v-for=\"(item,index) in cards\" :key=\"index\" :class=\"cardCur==index?'cur':''\" >\r\n                    <view class=\"swiper-item padding bg-gray\"  :style=\"'background-image:url('+cardBg[index]+');background-size:cover;'\">\r\n                        <view class=\" cf \">\r\n                            <view class=' radius fl '>\r\n                                <image src=\"https://deepand.oss-cn-shenzhen.aliyuncs.com/icon/icon-logo-milk.png\" mode=\"aspectFill\" style=\"width: 80rpx;height: 80rpx;\" ></image>\r\n                            </view>\r\n                            <view class='text-white radius fr padding-sm text-price-cn'>{{cardInfo.money}}</view>\r\n                        </view>\r\n                        <view class=\" cf padding-sm\">\r\n                            <view class='text-white radius fl  ' style=\"letter-spacing: 10upx;\"> {{cardInfo.cardno}} </view>\r\n                        </view>\r\n                        <view class=\" cf p   text-xs text-white \">\r\n                            <view class=' radius fl padding-sm '>\r\n                                <view>持卡人</view>\r\n                                <view class=\"padding-left\">{{cardInfo.cardname}}</view>\r\n                            </view>\r\n                            <view class='radius fr padding-sm'>\r\n                                <view>卡限额</view>\r\n                                <view class=\"padding-left\">{{`${ cardInfo.daylimitmoney}元/${cardInfo.daylimitcount}次`}}</view>\r\n                            </view>\r\n                        </view>\r\n                        <!--                    https://deepand.oss-cn-shenzhen.aliyuncs.com/icon/icon-logo-milk.png-->\r\n                        <!--                    <image :src=\"item.url\" mode=\"aspectFill\" v-if=\"item.type=='image'\"></image>-->\r\n                        <!--                    <video :src=\"item.url\" autoplay loop muted :show-play-btn=\"false\" :controls=\"false\" objectFit=\"cover\" v-if=\"item.type=='video'\"></video>-->\r\n                    </view>\r\n                </swiper-item>\r\n            </swiper>\r\n            <view>\r\n                <view class=\"flex bg-white padding-sm\" v-if=\"false\">\r\n                    <view class=\"flex-sub radius text-center\">\r\n                        <button class=\"cu-btn round bg-green shadow text-sm icon-uploa\" @click=\"handleAddCard\">添加卡片</button>\r\n                    </view>\r\n                    <view class=\"flex-sub radius text-center\">\r\n                        <button class=\"cu-btn round bg-green shadow text-sm\" @click=\"showUnbindModal\">解绑卡片</button>\r\n                    </view>\r\n                </view>\r\n\r\n                <view class=\"flex\">\r\n                    <view class=\"flex-sub bg-grey radius\">\r\n                        <view class=\"cu-list menu shadow-lg\">\r\n                            <view class=\"cu-item \">\r\n                                <view class=\"content\">\r\n                                    <text class=\"icon-attentionfill text-black\"></text>\r\n                                    <text class=\"text-black text-md\">卡号</text>\r\n                                </view>\r\n                                <view class=\"action\">\r\n                                        <view class=\"picker text-grey text-sm\">{{cardInfo['cardno']}}</view>\r\n                                </view>\r\n                            </view>\r\n                        </view>\r\n                    </view>\r\n                    <view class=\"flex-sub bg-grey radius\">\r\n                        <view class=\"cu-list menu\">\r\n                            <view class=\"cu-item\">\r\n                                <view class=\"content\" data-link=\"https://github.com/weilanwl/ColorUI\">\r\n                                    <text class=\"icon-attentionfill text-black\"></text>\r\n                                    <text class=\"text-black text-md\">卡状态</text>\r\n                                </view>\r\n                                <view class=\"action\">\r\n                                    <view class=\"cu-tag  round text-xs\" :class=\"colorMap[cardInfo['cardstatus']]\" >{{cardInfo['cardstatus']}}</view>\r\n                                </view>\r\n                            </view>\r\n                        </view>\r\n                    </view>\r\n                </view>\r\n\r\n                <view class=\"flex\">\r\n                    <view class=\"flex-sub bg-grey radius\">\r\n                        <view class=\"cu-list menu shadow-lg\">\r\n                            <view class=\"cu-item\">\r\n                                <view class=\"content\" data-link=\"https://github.com/weilanwl/ColorUI\">\r\n                                    <text class=\"icon-attentionfill text-black\"></text>\r\n                                    <text class=\"text-black text-md\">孩子名称</text>\r\n                                </view>\r\n                                <view class=\"action\">\r\n                                    <text class=\"text-grey text-sm\">{{cardInfo['cardname']}}</text>\r\n                                    <view class=\"cu-tag line-green round margin-left-sm text-xs\" @click=\"handleEditName\">\r\n                                        修改\r\n                                    </view>\r\n                                </view>\r\n                            </view>\r\n                        </view>\r\n                    </view>\r\n                    <view class=\"flex-sub bg-grey radius\">\r\n                        <view class=\"cu-list menu\">\r\n                            <view class=\"cu-item\">\r\n                                <view class=\"content\" data-link=\"https://github.com/weilanwl/ColorUI\">\r\n                                    <text class=\"icon-attentionfill text-black\"></text>\r\n                                    <text class=\"text-black text-md\">学校名称</text>\r\n                                </view>\r\n                                <view class=\"action\">\r\n                                    <text class=\"text-grey text-sm\">{{cardInfo['schoolname']}}</text>\r\n                                </view>\r\n                            </view>\r\n                        </view>\r\n                    </view>\r\n                </view>\r\n\r\n                <view class=\"flex\" v-if=\"false\">\r\n                    <view class=\"flex-sub bg-grey radius\">\r\n                        <view class=\"cu-list menu shadow-lg\">\r\n                            <view class=\"cu-item\">\r\n                                <view class=\"content\" data-link=\"https://github.com/weilanwl/ColorUI\">\r\n                                    <text class=\"icon-attentionfill text-black\"></text>\r\n                                    <text class=\"text-black text-md\">卡余额</text>\r\n                                </view>\r\n                                <view class=\"action\">\r\n                                    <text class=\"text-grey text-sm text-price\">{{cardInfo['money']}}</text>\r\n                                </view>\r\n                            </view>\r\n                        </view>\r\n                    </view>\r\n                    <view class=\"flex-sub bg-grey radius\">\r\n                        <view class=\"cu-list menu\">\r\n                            <view class=\"cu-item\">\r\n                                <view class=\"content\" data-link=\"https://github.com/weilanwl/ColorUI\">\r\n                                    <text class=\"icon-attentionfill text-black\"></text>\r\n                                    <text class=\"text-black text-md\">消费限制</text>\r\n                                </view>\r\n                                <view class=\"action\">\r\n                                    <text class=\"text-grey text-sm\">{{cardInfo['daylimitmoney']}}</text>\r\n                                    <view class=\"cu-tag line-green round margin-left-sm text-xs\" data-url=\"../editCard/editCard\" @click=\"handleNavigatorClick\" >设置</view>\r\n                                </view>\r\n                            </view>\r\n                        </view>\r\n                    </view>\r\n                </view>\r\n\r\n\r\n                <view class=\"flex\">\r\n                    <view class=\"flex-sub bg-grey radius\">\r\n                        <view class=\"cu-list menu shadow-lg\">\r\n                            <view class=\"cu-item\">\r\n                                <view class=\"content\" data-link=\"https://github.com/weilanwl/ColorUI\">\r\n                                    <text class=\"icon-attentionfill text-black\"></text>\r\n                                    <text class=\"text-black text-md\">昨日消费</text>\r\n                                </view>\r\n                                <view class=\"action\">\r\n                                    <text class=\"text-grey text-sm \">{{cardInfo['yesterdayused']}}</text>\r\n                                </view>\r\n                            </view>\r\n                        </view>\r\n                    </view>\r\n                    <view class=\"flex-sub bg-grey radius\">\r\n                        <view class=\"cu-list menu\">\r\n                            <view class=\"cu-item\">\r\n                                <view class=\"content\" data-link=\"https://github.com/weilanwl/ColorUI\">\r\n                                    <text class=\"icon-attentionfill text-black\"></text>\r\n                                    <text class=\"text-black text-md\">今日消费</text>\r\n                                </view>\r\n                                <view class=\"action\">\r\n                                    <text class=\"text-grey text-sm\">{{cardInfo['todayused']}}</text>\r\n                                </view>\r\n                            </view>\r\n                        </view>\r\n                    </view>\r\n                </view>\r\n            </view>\r\n\r\n            <view v-if=\"false\" class=\"header-data padding-sm flex text-center text-grey bg-white shadow-warp\">\r\n                <view class=\"flex flex-sub flex-direction solid-right\">\r\n                    <view class=\"text-md text-blue\">8.0元/3次</view>\r\n                    <view class=\"margin-top-sm text-sm\">\r\n                        <text class=\"icon-favorfill\"></text>\r\n                        昨日消费\r\n                    </view>        \r\n                </view>\r\n                <view class=\"flex flex-sub flex-direction\">\r\n                    <view class=\"text-md text-green\">9.0元/4次</view>\r\n                    <view class=\"margin-top-sm text-sm\">\r\n                        <text class=\"icon-fork\"></text>\r\n                        今日消费\r\n                    </view>\r\n                </view>\r\n            </view>\r\n\r\n            <scroll-view scroll-y class=\"page padding-top-lg bg-white\">\r\n                <view class=\"nav-list\">\r\n                    <view\r\n                            hover-class=\"none\"\r\n                            :data-data=\"item\"\r\n                            class=\"nav-li\"\r\n                            :class=\"'bg-'+item.color\"\r\n                            :style=\"[{animation: 'show ' + ((index+1)*0.2+1) + 's 1'}]\"\r\n\r\n                            v-for=\"(item,index) in elements\"\r\n                            :key=\"index\"\r\n                            @click=\"handleElementsTap\"\r\n                    >\r\n                        <view class=\"nav-title\">{{item.title}}</view>\r\n                        <view class=\"text-sm\">{{item.name}}</view>\r\n                        <text :class=\"'cuIcon-' + item.icon\"></text>\r\n                    </view>\r\n                </view>\r\n                <view class=\"cu-tabbar-height\"></view>\r\n            </scroll-view>\r\n\r\n            <modal title=\"修改名称\"  v-model=\"modalEditName\" @onCancel=\"handleEditNameCancel\" @onConfirm=\"handleEditSubmit\">\r\n                <view class=\"cu-form-group \">\r\n                    <view class=\"cu-form-group\">\r\n                        <view class='title'>备注名称</view>\r\n                        <input class=\"bg-white radius\" @change=\"handleNameChange\" v-model=\"cardInfo.cardname\"    placeholder=\"请输入孩子姓名\"/>\r\n                    </view>\r\n                </view>\r\n            </modal>\r\n\r\n<!--            <modal title=\"解绑卡片\"  v-model=\"modalUnBindCard\"  @onConfirm=\"handleUnBindCard\">-->\r\n<!--                是否确认解绑该卡片-->\r\n<!--            </modal>-->\r\n        </view>\r\n    </page>\r\n</template>\r\n\r\n<script>\r\n    import {truncate} from 'fs';\r\n    import Modal from \"../component/modal\";\r\n    import {getCardInfo, getCardList, getOpenid, unLinkCard, updateCardName} from \"../../api/card\";\r\n    import Page from \"../component/page/page\";\r\n    import Status from \"../component/status\";\r\n\r\n    const utils = require(\"../../utils/utils\")\r\n\r\n    export default {\r\n        components: {Status, Page, Modal},\r\n        data() {\r\n            return {\r\n                modalEditName: false,\r\n                modalUnBindCard:false,\r\n                buttons:[{\r\n                    text:'添加卡片',\r\n                    key:'add_card'\r\n                }],\r\n                cardCur:0,\r\n                StatusBar: this.StatusBar,\r\n                CustomBar: this.CustomBar,\r\n                colorMap : { '正常':'bg-green','已挂失':'bg-orange','冻结':'bg-red'},\r\n                cardBg:[\r\n                    \"https://deepand.oss-cn-shenzhen.aliyuncs.com/icon/bg1.jpg\",\r\n                    \"https://deepand.oss-cn-shenzhen.aliyuncs.com/icon/visa-bg-3.jpg\",\r\n                    \"https://deepand.oss-cn-shenzhen.aliyuncs.com/icon/visa-bg-4.jpg\"\r\n                ],\r\n                dotStyle: false,\r\n                towerStart: 0,\r\n                direction: '',\r\n                cardInfo:{},\r\n                cards:[],\r\n                title: \"Hello\",\r\n                index: 0,\r\n                elements: [\r\n                    {\r\n                        key: 'card_edit',\r\n                        title: \"卡操作\",\r\n                        name: \"限购设置 卡挂失\",\r\n                        color: \"cyan\",\r\n                        icon: \"newsfill\",\r\n                        url:'../editCard/editCard'\r\n                    },\r\n                    {\r\n                        key: 'recharge',\r\n                        title: \"账户充值\",\r\n                        name: \"4月16日 充值100\",\r\n                        color: \"blue\",\r\n                        icon: \"pay\",\r\n                        url:\"../recharge/recharge\"\r\n                    },\r\n                    {\r\n                        title: \"消费记录\",\r\n                        name: \"consume\",\r\n                        color: \"purple\",\r\n                        icon: \"refund\",//consumeRecord\r\n                        url:'../consumeRecord/consumeRecord'\r\n                    },\r\n                    {\r\n                        title: \"充值记录 \",\r\n                        name: \"recharge\",\r\n                        color: \"mauve\",\r\n                        icon: \"moneybagfill\",\r\n                        url:\"../rechargeRecord/rechargeRecord\"\r\n                    }\r\n                ]\r\n            };\r\n        },\r\n        async onLoad() {\r\n           this.loadData();\r\n\r\n            // this.elements[1]['name']=cards[0]['recharge'];\r\n\r\n        },\r\n        async onShow(){\r\n            this.loadData();\r\n            // return 0;\r\n            // this.cardInfo = await  getCardInfo({cardno:this.cardInfo['cardno']});\r\n            //\r\n            // this.elements[1]['name'] = this.cardInfo['lastrecharge']['date'];\r\n        },\r\n\r\n        methods: {\r\n            handleButtonTap({key}){\r\n                // console.log(`调试:`, e)\r\n                if(key === 'add_card'){\r\n                    this.handleAddCard();\r\n                }\r\n\r\n            },\r\n            async loadData(){\r\n                let cards =await getCardList();\r\n                if(cards.length <1 ){\r\n                    this.cards = [];\r\n                    return  0\r\n                }\r\n                this.cards = cards;\r\n                this.switchCard(0);\r\n            },\r\n            // 卡片菜单点击\r\n            handleElementsTap(e){\r\n                let  { currentTarget } = e,{ dataset } = currentTarget, {data }= dataset;\r\n\r\n                switch (data.key) {\r\n                    case \"card_edit\":\r\n                        utils.navigateTo({\r\n                            url:data.url,\r\n                            params:{\r\n                                ...this.cardInfo\r\n                            }\r\n                        });\r\n                    break;\r\n                    case \"recharge\":\r\n                        utils.navigateTo({\r\n                            url:data.url,\r\n                            params:{\r\n                                ...this.cardInfo\r\n                            }\r\n                        });\r\n\r\n                     break;\r\n                    default:\r\n                        utils.navigateTo({\r\n                            url:data.url,\r\n                            params:{\r\n                                ...this.cardInfo\r\n                            }\r\n                        });\r\n                        break;\r\n\r\n                }\r\n\r\n                console.log(`调试:data`, data)\r\n            },\r\n            async cardSwiper(e) {\r\n                this.cardCur = e.detail.current;\r\n                this.switchCard(this.cardCur);\r\n            },\r\n            async switchCard(index){\r\n                this.cardInfo = await  getCardInfo({cardno:this.cards[index]});\r\n                console.log(`调试:switchCard方法中 当前cards`, this.cards);\r\n                console.log(`调试: 当前cardinfo`, this.cardInfo);\r\n                // let {date,money,give} = this.cardInfo['lastrecharge'];\r\n                this.elements[1]['name'] =  this.cardInfo['lastrecharge'];\r\n            },\r\n            handleNavigatorClick(e){\r\n                let {target:{dataset:{url}}} = e;\r\n                uni.navigateTo({\r\n                    url\r\n                })\r\n                console.log(`调试:`, url)\r\n            },\r\n            PickerChange(e) {\r\n                this.cardCur = e.detail.value;\r\n            },\r\n            handleEditName() {\r\n                console.log(`调试:事件调用成功`);\r\n                this.modalEditName = true;\r\n            },\r\n            handleNameChange(e){\r\n               const {detail:{value}} = e;\r\n               this.tempCardName = value;\r\n               console.log(`调试:`, value)\r\n            },\r\n            //更改名字提交\r\n            async handleEditNameCancel(){\r\n                // this.cards[this.cardCur]['name']=this.tempCardName;\r\n                // uni.showLoading({ title:'请稍后...' });\r\n                // let  cardno = this.cardInfo.cardno;\r\n                // let name = this.cardInfo.cardname\r\n                // await  updateCardName({cardno,name});\r\n                // uni.hideLoading();\r\n                uni.showToast({\r\n                    title:'取消了操作'\r\n\r\n                });\r\n\r\n                console.log(`调试:你点击了确定`)\r\n            },    //更改名字提交\r\n            async handleEditSubmit(){\r\n                // this.cards[this.cardCur]['name']=this.tempCardName;\r\n                uni.showLoading({ title:'请稍后...' });\r\n                let  cardno = this.cardInfo.cardno;\r\n                let name = this.cardInfo.cardname\r\n                await  updateCardName({cardno,name});\r\n                uni.hideLoading();\r\n                uni.showToast({\r\n                    type:'success',\r\n                    title:'修改成功'\r\n                });\r\n\r\n                console.log(`调试:你点击了确定`)\r\n            },\r\n            //显示解绑卡片提示\r\n            showUnbindModal(){\r\n                this.modalUnBindCard = true\r\n            },\r\n            //解绑卡片提交\r\n           async handleUnBindCard(){\r\n                let  com = await  utils.comfirm({\r\n                    title:'解绑卡片',\r\n                    content:'是否确认解绑'\r\n                });\r\n                if(com){\r\n                    uni.showLoading({ title:'解绑中...' });\r\n                    let res =await unLinkCard({cardno:this.cardInfo.cardno}).catch(err=>{\r\n                        uni.hideLoading()\r\n                        uni.showToast({\r\n                            icon:'none',\r\n                            title:'解绑失败'\r\n                        })\r\n                    });\r\n                    console.log(`调试:解绑返回值`, res);\r\n                    uni.hideLoading()\r\n\r\n                    uni.showToast({\r\n                        title:'解绑成功'\r\n                    })\r\n                    // this.loadData();\r\n                    uni.reLaunch({\r\n                        url:'../index/index'\r\n                    })\r\n\r\n                }\r\n\r\n            },\r\n            //添加卡片\r\n            handleAddCard(){\r\n                uni.navigateTo({\r\n                    url:'../addCard/addCard'\r\n                })\r\n            }\r\n\r\n        }\r\n    };\r\n</script>\r\n\r\n<style scoped>\r\n    .header-data {\r\n        /* margin-top: 39vh; */\r\n    }\r\n\r\n    .header_bg {\r\n        width: 100%;\r\n        height: 40vh;\r\n        background-image: url(https://cdn.nlark.com/yuque/0/2019/png/280374/1552996358228-assets/web-upload/e256b4ce-d9a4-488b-8da2-032747213982.png);\r\n        background-size: 100% 100%;\r\n        background-color: white;\r\n        position: absolute;\r\n\r\n        top: 0px;\r\n        z-index: 9;\r\n    }\r\n\r\n    .page {\r\n    }\r\n\r\n    .response {\r\n        height: 50vh;\r\n    }\r\n\r\n</style>\r\n"],"sourceRoot":"src/pages/index"}]}