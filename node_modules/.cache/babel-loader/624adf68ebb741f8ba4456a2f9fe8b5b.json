{"remainingRequest":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/thread-loader/dist/cjs.js!/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-3!/Users/lianfangti/Project/UNI-APP/JIGE/src/api/card.js","dependencies":[{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/src/api/card.js","mtime":1562204749587},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getCardList = getCardList;\nexports.getCardInfo = getCardInfo;\nexports.unLinkCard = unLinkCard;\nexports.updateCardName = updateCardName;\nexports.getSchoolNameByCard = getSchoolNameByCard;\nexports.addCard = addCard;\nexports.setCardLimit = setCardLimit;\nexports.reportLossCard = reportLossCard;\n\nvar _regenerator = _interopRequireDefault(require(\"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@babel/runtime/regenerator\"));\n\nvar _request = require(\"../utils/request\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction getCardList() {\n  return _getCardList.apply(this, arguments);\n}\n\nfunction _getCardList() {\n  _getCardList = _asyncToGenerator(\n  /*#__PURE__*/\n  _regenerator.default.mark(function _callee() {\n    var list;\n    return _regenerator.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _request.request.get({\n              url: '/wxlinkcard'\n            });\n\n          case 2:\n            list = _context.sent;\n            console.log(\"\\u8C03\\u8BD5:\\u83B7\\u53D6\\u5230\\u5361\\u7247\\u5217\\u8868\", list);\n            return _context.abrupt(\"return\", list.linkcard.map(function (item) {\n              return item.cardno;\n            }));\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _getCardList.apply(this, arguments);\n}\n\nfunction getCardInfo(_x) {\n  return _getCardInfo.apply(this, arguments);\n} // 解绑卡片\n\n\nfunction _getCardInfo() {\n  _getCardInfo = _asyncToGenerator(\n  /*#__PURE__*/\n  _regenerator.default.mark(function _callee2(_ref) {\n    var cardno, detaile;\n    return _regenerator.default.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            cardno = _ref.cardno;\n            _context2.next = 3;\n            return _request.request.post({\n              url: '/cardinfo',\n              data: {\n                cardno: cardno\n              }\n            });\n\n          case 3:\n            detaile = _context2.sent;\n            return _context2.abrupt(\"return\", detaile);\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _getCardInfo.apply(this, arguments);\n}\n\nfunction unLinkCard(_x2) {\n  return _unLinkCard.apply(this, arguments);\n} // 卡片改名字\n\n\nfunction _unLinkCard() {\n  _unLinkCard = _asyncToGenerator(\n  /*#__PURE__*/\n  _regenerator.default.mark(function _callee3(_ref2) {\n    var cardno, result;\n    return _regenerator.default.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            cardno = _ref2.cardno;\n            _context3.next = 3;\n            return _request.request.post({\n              url: \"/unlinkcard\",\n              data: {\n                cardno: cardno\n              }\n            });\n\n          case 3:\n            result = _context3.sent;\n            return _context3.abrupt(\"return\", result);\n\n          case 5:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _unLinkCard.apply(this, arguments);\n}\n\nfunction updateCardName(_x3) {\n  return _updateCardName.apply(this, arguments);\n} // 根据卡号获取学校名称\n\n\nfunction _updateCardName() {\n  _updateCardName = _asyncToGenerator(\n  /*#__PURE__*/\n  _regenerator.default.mark(function _callee4(_ref3) {\n    var cardno, name, result;\n    return _regenerator.default.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            cardno = _ref3.cardno, name = _ref3.name;\n            _context4.next = 3;\n            return _request.request.post({\n              url: \"/cardname\",\n              data: {\n                cardno: cardno,\n                name: name\n              }\n            });\n\n          case 3:\n            result = _context4.sent;\n            return _context4.abrupt(\"return\", result);\n\n          case 5:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _updateCardName.apply(this, arguments);\n}\n\nfunction getSchoolNameByCard(_x4) {\n  return _getSchoolNameByCard.apply(this, arguments);\n} // 绑定新卡片\n\n\nfunction _getSchoolNameByCard() {\n  _getSchoolNameByCard = _asyncToGenerator(\n  /*#__PURE__*/\n  _regenerator.default.mark(function _callee5(_ref4) {\n    var cardno, result;\n    return _regenerator.default.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            cardno = _ref4.cardno;\n            _context5.next = 3;\n            return _request.request.post({\n              url: \"/cardschool\",\n              data: {\n                cardno: cardno\n              }\n            });\n\n          case 3:\n            result = _context5.sent;\n            return _context5.abrupt(\"return\", result.schoolname);\n\n          case 5:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n  return _getSchoolNameByCard.apply(this, arguments);\n}\n\nfunction addCard(_x5) {\n  return _addCard.apply(this, arguments);\n} // 卡限制设置\n\n\nfunction _addCard() {\n  _addCard = _asyncToGenerator(\n  /*#__PURE__*/\n  _regenerator.default.mark(function _callee6(_ref5) {\n    var cardno, result;\n    return _regenerator.default.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            cardno = _ref5.cardno;\n            _context6.next = 3;\n            return _request.request.post({\n              url: \"/addcard\",\n              data: {\n                cardno: cardno\n              }\n            });\n\n          case 3:\n            result = _context6.sent;\n            return _context6.abrupt(\"return\", result);\n\n          case 5:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n  return _addCard.apply(this, arguments);\n}\n\nfunction setCardLimit(_x6) {\n  return _setCardLimit.apply(this, arguments);\n} // 卡挂失\n\n\nfunction _setCardLimit() {\n  _setCardLimit = _asyncToGenerator(\n  /*#__PURE__*/\n  _regenerator.default.mark(function _callee7(_ref6) {\n    var cardno, daylimitmoney, daylimitcount, result;\n    return _regenerator.default.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            cardno = _ref6.cardno, daylimitmoney = _ref6.daylimitmoney, daylimitcount = _ref6.daylimitcount;\n            _context7.next = 3;\n            return _request.request.post({\n              url: \"/modifydaylimit\",\n              data: {\n                cardno: cardno,\n                daylimityuan: daylimitmoney,\n                daylimitcount: daylimitcount\n              }\n            });\n\n          case 3:\n            result = _context7.sent;\n            return _context7.abrupt(\"return\", result);\n\n          case 5:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7);\n  }));\n  return _setCardLimit.apply(this, arguments);\n}\n\nfunction reportLossCard(_x7) {\n  return _reportLossCard.apply(this, arguments);\n}\n\nfunction _reportLossCard() {\n  _reportLossCard = _asyncToGenerator(\n  /*#__PURE__*/\n  _regenerator.default.mark(function _callee8(_ref7) {\n    var openid, cardno, result;\n    return _regenerator.default.wrap(function _callee8$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            openid = _ref7.openid, cardno = _ref7.cardno;\n            _context8.next = 3;\n            return _request.request.post({\n              url: \"/suspendcard\",\n              data: {\n                openid: openid,\n                cardno: cardno\n              }\n            });\n\n          case 3:\n            result = _context8.sent;\n            return _context8.abrupt(\"return\", result);\n\n          case 5:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, _callee8);\n  }));\n  return _reportLossCard.apply(this, arguments);\n}",{"version":3,"sources":["/Users/lianfangti/Project/UNI-APP/JIGE/src/api/card.js"],"names":["getCardList","request","get","url","list","console","log","linkcard","map","item","cardno","getCardInfo","post","data","detaile","unLinkCard","result","updateCardName","name","getSchoolNameByCard","schoolname","addCard","setCardLimit","daylimitmoney","daylimitcount","daylimityuan","reportLossCard","openid"],"mappings":"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","sourcesContent":["import {request} from \"../utils/request\";\n\nexport async function getCardList() {\n    let list = await request.get({\n        url: '/wxlinkcard'\n    })\n    console.log(`调试:获取到卡片列表`, list);\n\n    return list.linkcard.map(item=>{\n        return item.cardno\n    })\n}\n\nexport async function getCardInfo({cardno}) {\n    let detaile = await request.post({\n        url: '/cardinfo',\n        data: {cardno}\n    });\n    // let lastRechargeDetaile = detaile['lastrecharge'].split(',');\n    // detaile['lastrecharge'] = {\n    //     date:lastRechargeDetaile[0],\n    //     money:lastRechargeDetaile[1],\n    //     give:lastRechargeDetaile[2]\n    // }\n    // console.log(`调试:卡详细`,detaile)\n    return  detaile\n}\n\n// 解绑卡片\nexport async function unLinkCard({cardno}){\n    let result = await  request.post({\n        url:\"/unlinkcard\",\n        data:{\n            cardno\n        }\n    })\n    return  result;\n}\n\n// 卡片改名字\nexport async function updateCardName({cardno,name}){\n    let result = await  request.post({\n        url:\"/cardname\",\n        data:{\n            cardno,\n            name\n        }\n    })\n    return  result;\n}\n\n// 根据卡号获取学校名称\nexport async function getSchoolNameByCard({cardno}){\n    let result = await  request.post({\n        url:\"/cardschool\",\n        data:{\n            cardno\n        }\n    });\n    return  result.schoolname;\n}\n\n\n// 绑定新卡片\nexport async function addCard({cardno}){\n    let result = await  request.post({\n        url:\"/addcard\",\n        data:{\n            cardno\n        }\n    });\n    return  result;\n}\n// 卡限制设置\nexport async function setCardLimit({cardno,daylimitmoney,daylimitcount}){\n    let result = await  request.post({\n        url:\"/modifydaylimit\",\n        data:{\n            cardno,\n            daylimityuan:daylimitmoney,\n            daylimitcount\n        }\n    });\n    return  result;\n}\n// 卡挂失\nexport async function reportLossCard({openid,cardno}){\n    let result = await  request.post({\n        url:\"/suspendcard\",\n        data:{\n            openid,\n            cardno\n        }\n    });\n    return  result;\n}\n\n"]}]}