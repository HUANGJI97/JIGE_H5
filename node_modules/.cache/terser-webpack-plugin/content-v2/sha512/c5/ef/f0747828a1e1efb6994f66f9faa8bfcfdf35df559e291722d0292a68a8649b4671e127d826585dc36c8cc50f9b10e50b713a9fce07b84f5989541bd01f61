{"map":"{\"version\":3,\"sources\":[\"/Users/lianfangti/Project/MiniProgram/Weixin/Milk/milk/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lianfangti/Project/MiniProgram/Weixin/Milk/milk/src/pages/addCard/addCard.vue\",\"/Users/lianfangti/Project/MiniProgram/Weixin/Milk/milk/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!/Users/lianfangti/Project/MiniProgram/Weixin/Milk/milk/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--15-0!/Users/lianfangti/Project/MiniProgram/Weixin/Milk/milk/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!/Users/lianfangti/Project/MiniProgram/Weixin/Milk/milk/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lianfangti/Project/MiniProgram/Weixin/Milk/milk/src/pages/addCard/addCard.vue?vue&type=template&id=928e35e6&scoped=true&\",\"/Users/lianfangti/Project/MiniProgram/Weixin/Milk/milk/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/Users/lianfangti/Project/MiniProgram/Weixin/Milk/milk/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--15-0!/Users/lianfangti/Project/MiniProgram/Weixin/Milk/milk/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!/Users/lianfangti/Project/MiniProgram/Weixin/Milk/milk/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lianfangti/Project/MiniProgram/Weixin/Milk/milk/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--15-0!/Users/lianfangti/Project/MiniProgram/Weixin/Milk/milk/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!/Users/lianfangti/Project/MiniProgram/Weixin/Milk/milk/src/pages/addCard/addCard.vue?vue&type=template&id=928e35e6&scoped=true&\",\"/Users/lianfangti/Project/MiniProgram/Weixin/Milk/milk/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/Users/lianfangti/Project/MiniProgram/Weixin/Milk/milk/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!/Users/lianfangti/Project/MiniProgram/Weixin/Milk/milk/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!/Users/lianfangti/Project/MiniProgram/Weixin/Milk/milk/node_modules/css-loader/index.js??ref--6-oneOf-1-2!/Users/lianfangti/Project/MiniProgram/Weixin/Milk/milk/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!/Users/lianfangti/Project/MiniProgram/Weixin/Milk/milk/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lianfangti/Project/MiniProgram/Weixin/Milk/milk/src/pages/addCard/addCard.vue?vue&type=style&index=0&id=928e35e6&scoped=true&lang=css&\",\"/Users/lianfangti/Project/MiniProgram/Weixin/Milk/milk/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/Users/lianfangti/Project/MiniProgram/Weixin/Milk/milk/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/Users/lianfangti/Project/MiniProgram/Weixin/Milk/milk/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!/Users/lianfangti/Project/MiniProgram/Weixin/Milk/milk/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!/Users/lianfangti/Project/MiniProgram/Weixin/Milk/milk/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lianfangti/Project/MiniProgram/Weixin/Milk/milk/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!/Users/lianfangti/Project/MiniProgram/Weixin/Milk/milk/src/pages/addCard/addCard.vue?vue&type=script&lang=js&\",\"/Users/lianfangti/Project/MiniProgram/Weixin/Milk/milk/src/pages/addCard/addCard.vue\"],\"names\":[\"__webpack_require__\",\"r\",\"__webpack_exports__\",\"_addCard_vue_vue_type_template_id_928e35e6_scoped_true___WEBPACK_IMPORTED_MODULE_0__\",\"_addCard_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__\",\"__WEBPACK_IMPORT_KEY__\",\"key\",\"d\",\"_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__\",\"component\",\"Object\",\"render\",\"_vm\",\"this\",\"_h\",\"$createElement\",\"_self\",\"_c\",\"staticRenderFns\",\"_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_node_modules_css_loader_index_js_ref_6_oneOf_1_2_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_vue_loader_lib_index_js_vue_loader_options_addCard_vue_vue_type_style_index_0_id_928e35e6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__\",\"_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_node_modules_css_loader_index_js_ref_6_oneOf_1_2_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_vue_loader_lib_index_js_vue_loader_options_addCard_vue_vue_type_style_index_0_id_928e35e6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default\",\"n\",\"_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_addCard_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__\",\"_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_addCard_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default\",\"_card\",\"_utils\",\"name\",\"data\",\"submiting\",\"cardno\",\"school\",\"methods\",\"handleSubmit\",\"_handleSubmit\",\"_asyncToGenerator\",\"_regenerator\",\"default\",\"mark\",\"_callee\",\"wrap\",\"_context\",\"prev\",\"next\",\"console\",\"log\",\"addCard\",\"catch\",\"err\",\"uni\",\"hideLoading\",\"showToast\",\"title\",\"sent\",\"delay\",\"result\",\"navigateBack\",\"icon\",\"stop\",\"apply\",\"arguments\",\"handleCardnoCahnge\",\"_handleCardnoCahnge\",\"_callee2\",\"_this\",\"_context2\",\"length\",\"getSchoolNameByCard\",\"res\"],\"mappings\":\"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\",\"sourcesContent\":[\"import { render, staticRenderFns } from \\\"./addCard.vue?vue&type=template&id=928e35e6&scoped=true&\\\"\\nimport script from \\\"./addCard.vue?vue&type=script&lang=js&\\\"\\nexport * from \\\"./addCard.vue?vue&type=script&lang=js&\\\"\\nimport style0 from \\\"./addCard.vue?vue&type=style&index=0&id=928e35e6&scoped=true&lang=css&\\\"\\n\\n\\n/* normalize component */\\nimport normalizer from \\\"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\\\"\\nvar component = normalizer(\\n  script,\\n  render,\\n  staticRenderFns,\\n  false,\\n  null,\\n  \\\"928e35e6\\\",\\n  null\\n  \\n)\\n\\nexport default component.exports\",\"var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;}\\nvar staticRenderFns = []\\n\\nexport { render, staticRenderFns }\",\"export * from \\\"-!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--15-0!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addCard.vue?vue&type=template&id=928e35e6&scoped=true&\\\"\",\"import mod from \\\"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addCard.vue?vue&type=style&index=0&id=928e35e6&scoped=true&lang=css&\\\"; export default mod; export * from \\\"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addCard.vue?vue&type=style&index=0&id=928e35e6&scoped=true&lang=css&\\\"\",\"import mod from \\\"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addCard.vue?vue&type=script&lang=js&\\\"; export default mod; export * from \\\"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addCard.vue?vue&type=script&lang=js&\\\"\",\"//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n\\n  import {addCard, getSchoolNameByCard} from \\\"../../api/card\\\";\\nimport {delay} from \\\"../../utils/utils\\\";\\n\\n  export default {\\n      name: \\\"addCard\\\",\\n      data(){\\n          return{\\n              submiting:false,\\n              cardno:'',\\n              school:'',\\n          }\\n      },\\n      methods:{\\n          async handleSubmit(){\\n              console.log(`调试:当前卡号`,this.cardno);\\n              if(this.school && this.school !== ''){\\n                  this.submiting = true;\\n                  let result = await  addCard({cardno:this.cardno}).catch(err=>{\\n                      uni.hideLoading();\\n                      uni.showToast({title:'添加失败'})\\n                      console.log(`调试:添加失败`, err)\\n                  });\\n                  this.submiting = false;\\n                  uni.showToast({\\n                      title:'绑定成功'\\n                  })\\n                  await  delay(1000);\\n                  console.log(`调试:绑定成功`, this.result)\\n                  uni.navigateBack(-1);\\n              }else{\\n                  uni.showToast({\\n                      title:'卡号不正确',\\n                      icon:'none'\\n                  })\\n              }\\n          },\\n          async handleCardnoCahnge(){\\n              console.log(`调试:当前卡号`,this.cardno,this.cardno.length);\\n              if(this.cardno.length === 10){\\n                 this.school =  await  getSchoolNameByCard({cardno:this.cardno}).catch(res=>{\\n                     this.school =''\\n                 })\\n                  console.log(`调试:获取到的校名`, this.school)\\n              }else{\\n                  this.school = ''\\n              }\\n\\n          }\\n      }\\n  }\\n\"]}","code":"(global[\"webpackJsonp\"]=global[\"webpackJsonp\"]||[]).push([[\"pages/addCard/addCard\"],{1342:function(t,n,e){\"use strict\";e.r(n);var a=e(\"68fd\"),o=e(\"719a\");for(var r in o)\"default\"!==r&&function(t){e.d(n,t,function(){return o[t]})}(r);e(\"6c45\");var c=e(\"2877\"),i=Object(c[\"a\"])(o[\"default\"],a[\"a\"],a[\"b\"],!1,null,\"928e35e6\",null);n[\"default\"]=i.exports},\"68fd\":function(t,n,e){\"use strict\";var a=function(){var t=this,n=t.$createElement;t._self._c},o=[];e.d(n,\"a\",function(){return a}),e.d(n,\"b\",function(){return o})},\"6c45\":function(t,n,e){\"use strict\";var a=e(\"b8cb\"),o=e.n(a);o.a},\"719a\":function(t,n,e){\"use strict\";e.r(n);var a=e(\"ca22\"),o=e.n(a);for(var r in a)\"default\"!==r&&function(t){e.d(n,t,function(){return a[t]})}(r);n[\"default\"]=o.a},b8cb:function(t,n,e){},ca22:function(t,n,e){\"use strict\";(function(t){Object.defineProperty(n,\"__esModule\",{value:!0}),n.default=void 0;var a=c(e(\"a34a\")),o=e(\"7381\"),r=e(\"fa7d\");function c(t){return t&&t.__esModule?t:{default:t}}function i(t,n,e,a,o,r,c){try{var i=t[r](c),s=i.value}catch(u){return void e(u)}i.done?n(s):Promise.resolve(s).then(a,o)}function s(t){return function(){var n=this,e=arguments;return new Promise(function(a,o){var r=t.apply(n,e);function c(t){i(r,a,o,c,s,\"next\",t)}function s(t){i(r,a,o,c,s,\"throw\",t)}c(void 0)})}}var u={name:\"addCard\",data:function(){return{submiting:!1,cardno:\"\",school:\"\"}},methods:{handleSubmit:function(){var n=s(a.default.mark(function n(){return a.default.wrap(function(n){while(1)switch(n.prev=n.next){case 0:if(console.log(\"调试:当前卡号\",this.cardno),!this.school||\"\"===this.school){n.next=14;break}return this.submiting=!0,n.next=5,(0,o.addCard)({cardno:this.cardno}).catch(function(n){t.hideLoading(),t.showToast({title:\"添加失败\"}),console.log(\"调试:添加失败\",n)});case 5:return n.sent,this.submiting=!1,t.showToast({title:\"绑定成功\"}),n.next=10,(0,r.delay)(1e3);case 10:console.log(\"调试:绑定成功\",this.result),t.navigateBack(-1),n.next=15;break;case 14:t.showToast({title:\"卡号不正确\",icon:\"none\"});case 15:case\"end\":return n.stop()}},n,this)}));function e(){return n.apply(this,arguments)}return e}(),handleCardnoCahnge:function(){var t=s(a.default.mark(function t(){var n=this;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(\"调试:当前卡号\",this.cardno,this.cardno.length),10!==this.cardno.length){t.next=8;break}return t.next=4,(0,o.getSchoolNameByCard)({cardno:this.cardno}).catch(function(t){n.school=\"\"});case 4:this.school=t.sent,console.log(\"调试:获取到的校名\",this.school),t.next=9;break;case 8:this.school=\"\";case 9:case\"end\":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}()}};n.default=u}).call(this,e(\"543d\")[\"default\"])}},[[\"2baa\",\"common/runtime\",\"common/vendor\"]]]);","extractedComments":[]}