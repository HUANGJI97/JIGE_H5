{"remainingRequest":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js!/Users/lianfangti/Project/UNI-APP/JIGE/src/pages/waitResult/waitResult.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/src/pages/waitResult/waitResult.vue","mtime":1562120126381},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {checkRechargeReuslt} from \"../../api/orders\";\n\nexport default {\n    name: \"waitResult\",\n    data(){\n        return {\n          cardno:'',\n          outtradeno:'',\n          images:'../../static/undraw_loading_frh4.png',\n          text:'请稍后...',\n          status:0,\n          StatusBar: this.StatusBar,\n          CustomBar: this.CustomBar,\n          title:'等待充值结果...'\n        }\n    },\n    async onLoad(options){\n        console.log(`调试:接收到参数`, options);\n\n       let { outtradeno,cardno } = options;\n       this.cardno = cardno;\n        if(!outtradeno) return;\n        let t = setInterval(async ()=>{\n            let rechargeResult = await checkRechargeReuslt({outtradeno});\n            this.images='../../static/pay_success2.png';\n            this.text=\"充值成功\";\n            this.title='充值成功';\n            this.status = 1;\n            clearInterval(t);\n            console.log(`调试:检查充值返回`, rechargeResult)\n        },1000)\n    },\n  methods:{\n    handleToRechargeRecord(){\n       uni.navigateTo({\n         url:'../rechargeRecord/rechargeRecord?cardno='+this.cardno\n       })\n    },\n    handleToHome(){\n      uni.redirectTo({\n        url:'../index/index'\n      })\n    }\n  }\n}\n",{"version":3,"sources":["waitResult.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"waitResult.vue","sourceRoot":"src/pages/waitResult","sourcesContent":["<template>\n  <view class=\"bg-white \" style=\"height: 100vh;\" >\n    <cu-custom class=\"\" :isBack=\"true\">\n      <block slot=\"content\">{{title}}</block>\n    </cu-custom>\n    <view class=\"text-center   flex align-center justify-center\" :style=\"`height: calc(100vh - ${CustomBar}px)`\">\n      <view>\n          <image :src=\"images\" style=\"\"/>\n          <view class=\"text-gray\">\n            <text class=\"margin-bottom\"> {{text}}</text>\n            <button v-if=\"status\" class=\"bg-green margin-top round\" @tap=\"handleToRechargeRecord\">查看充值记录</button>\n            <button v-if=\"status\" class=\"bg-gray margin-top round\" @tap=\"handleToHome\">返回首页</button>\n          </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script>\n    import {checkRechargeReuslt} from \"../../api/orders\";\n\n    export default {\n        name: \"waitResult\",\n        data(){\n            return {\n              cardno:'',\n              outtradeno:'',\n              images:'../../static/undraw_loading_frh4.png',\n              text:'请稍后...',\n              status:0,\n              StatusBar: this.StatusBar,\n              CustomBar: this.CustomBar,\n              title:'等待充值结果...'\n            }\n        },\n        async onLoad(options){\n            console.log(`调试:接收到参数`, options);\n\n           let { outtradeno,cardno } = options;\n           this.cardno = cardno;\n            if(!outtradeno) return;\n            let t = setInterval(async ()=>{\n                let rechargeResult = await checkRechargeReuslt({outtradeno});\n                this.images='../../static/pay_success2.png';\n                this.text=\"充值成功\";\n                this.title='充值成功';\n                this.status = 1;\n                clearInterval(t);\n                console.log(`调试:检查充值返回`, rechargeResult)\n            },1000)\n        },\n      methods:{\n        handleToRechargeRecord(){\n           uni.navigateTo({\n             url:'../rechargeRecord/rechargeRecord?cardno='+this.cardno\n           })\n        },\n        handleToHome(){\n          uni.redirectTo({\n            url:'../index/index'\n          })\n        }\n      }\n    }\n</script>\n\n<style scoped scoped>\n\n</style>\n"]}]}