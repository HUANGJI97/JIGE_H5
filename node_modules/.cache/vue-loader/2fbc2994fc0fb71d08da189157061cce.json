{"remainingRequest":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js!/Users/lianfangti/Project/UNI-APP/JIGE/src/pages/rechargeRecord/rechargeRecord.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/src/pages/rechargeRecord/rechargeRecord.vue","mtime":1568272858806},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {getRechargeRecord} from \"../../api/orders\";\nimport Status from \"../component/status\";\nimport {dateFormat} from \"../../utils/utils\";\n\nexport default {\n    name: \"rechargeRecord\",\n    components: {Status},\n    data() {\n        return {\n            list: [],\n            page:1\n        }\n    },\n    onPullDownRefresh(){\n        console.log(`调试:触发下拉` );\n        this.page =1;\n        this.loadData();\n    },\n    onReachBottom(){\n        console.log(`调试:触发触底` );\n        this.loadData()\n    },\n    async onLoad(options) {\n        console.log(`调试:充值记录页收到参数`, options);\n        const {cardno} = options;\n        let rechargeRecord = await getRechargeRecord();\n        this.list = rechargeRecord.list;\n        this.list =  this.list.map(item=>{\n            item.pay_time = dateFormat(item.pay_time,'yyyy-MM-dd hh:mm');\n            console.log(`调试:`,item.pay_time)\n            return item;\n        })\n        console.log(`调试:充值记录查询结果`, this.list)\n    },\n    filters:{\n        DateFormat(val){\n            return dateFormat(new Date(val),\"yyyy-MM-dd hh:mm\")\n        },\n    },\n    methods:{\n        async loadData({page=1}={}){\n            uni.showLoading({title:'加载中...'});\n            let  data = await  getRechargeRecord({page:this.page});\n            uni.hideLoading();\n            if(data.list.length){\n                if(this.page == 1){\n                    this.list = data.list;\n                }else{\n                    this.list = [...this.list,...data.list];\n\n                }\n                this.page = this.page + 1;\n\n\n\n            }else{\n                uni.showToast({\n                    title:\"已经到底了\",\n                    icon:'none'\n                })\n            }\n\n            console.log(`调试:使用记录查询结果`, this.list)\n        }\n    }\n}\n",{"version":3,"sources":["rechargeRecord.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"rechargeRecord.vue","sourceRoot":"src/pages/rechargeRecord","sourcesContent":["<template>\n    <view class=\"bg-gray cu-page\">\n        <status v-if=\"list.length<1 \" text=\"暂无充值记录\"></status>\n        <view class=\"cu-list margin  menu-avatar\" >\n            <view class=\"cu-item margin-top-sm radius-xxxl\" v-for=\"(item,index) in  list\" :key=\"index\">\n                <view class=\"cu-avatar bg-white round md\"\n                      style=\"background-image:url('https://lft-ad.oss-cn-hangzhou.aliyuncs.com/eleme/png/bg-recharge-record.png');\">\n                </view>\n                <view class=\"content\">\n                    <view class=\"text-black\">{{item.order_id}}</view>\n                    <view class=\"text-gray text-sm flex\">\n                        <text class=\"text-cut\">\n                            <text class=\" margin-right-sm\">{{item.name}}</text>\n<!--                            <text class=\"tex-xxxs\">{{item.more}}</text>-->\n                        </text>\n                    </view>\n                </view>\n\n                <view class=\"action margin-right  padding-right\">\n                                        <view class=\"text-orange text-sm   \">粮票+{{item.coin}}</view>\n                    <view class=\"cu-tag text-sm round bg-white sm \">{{item.pay_time | DateFormat}}</view>\n                </view>\n            </view>\n        </view>\n\n    </view>\n</template>\n\n<script>\n    import {getRechargeRecord} from \"../../api/orders\";\n    import Status from \"../component/status\";\n    import {dateFormat} from \"../../utils/utils\";\n\n    export default {\n        name: \"rechargeRecord\",\n        components: {Status},\n        data() {\n            return {\n                list: [],\n                page:1\n            }\n        },\n        onPullDownRefresh(){\n            console.log(`调试:触发下拉` );\n            this.page =1;\n            this.loadData();\n        },\n        onReachBottom(){\n            console.log(`调试:触发触底` );\n            this.loadData()\n        },\n        async onLoad(options) {\n            console.log(`调试:充值记录页收到参数`, options);\n            const {cardno} = options;\n            let rechargeRecord = await getRechargeRecord();\n            this.list = rechargeRecord.list;\n            this.list =  this.list.map(item=>{\n                item.pay_time = dateFormat(item.pay_time,'yyyy-MM-dd hh:mm');\n                console.log(`调试:`,item.pay_time)\n                return item;\n            })\n            console.log(`调试:充值记录查询结果`, this.list)\n        },\n        filters:{\n            DateFormat(val){\n                return dateFormat(new Date(val),\"yyyy-MM-dd hh:mm\")\n            },\n        },\n        methods:{\n            async loadData({page=1}={}){\n                uni.showLoading({title:'加载中...'});\n                let  data = await  getRechargeRecord({page:this.page});\n                uni.hideLoading();\n                if(data.list.length){\n                    if(this.page == 1){\n                        this.list = data.list;\n                    }else{\n                        this.list = [...this.list,...data.list];\n\n                    }\n                    this.page = this.page + 1;\n\n\n\n                }else{\n                    uni.showToast({\n                        title:\"已经到底了\",\n                        icon:'none'\n                    })\n                }\n\n                console.log(`调试:使用记录查询结果`, this.list)\n            }\n        }\n    }\n</script>\n\n<style scoped scoped>\n    .cu-list.menu-avatar>.cu-item .content{\n        left:110rpx;\n    }\n    .cu-list.menu-avatar>.cu-item .action {\n        width:150rpx;\n    }\n</style>\n"]}]}