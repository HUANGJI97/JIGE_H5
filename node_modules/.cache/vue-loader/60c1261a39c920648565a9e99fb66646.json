{"remainingRequest":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js!/Users/lianfangti/Project/UNI-APP/JIGE/src/pages/recharge/recharge.vue?vue&type=style&index=0&id=3a7afbbf&scoped=true&lang=css&","dependencies":[{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/src/pages/recharge/recharge.vue","mtime":1563351528454},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/css-loader/index.js","mtime":1429891385000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.bg-cash-sm{\n    background-image: url(\"../../static/cash_yellow.png\");\n    background-size: 100% 100%;\n    width: 60rpx;\n    height: 35rpx;\n    display: inline-block;\n}\n.text-shadow{\n    text-shadow: 2px 2px 1px #80808059;\n}\n.text-money{\n    color: #483000;\n    font-size:60rpx;\n}\n.left-tag{\n    background:#f8b500;\n    color: #916200;\n    font-size: 10px;\n    padding: 5rpx;\n\n    border-bottom-left-radius: 30px;\n    border-top-left-radius: 5px;\n    padding-left: 20rpx;\n    padding-right: 20rpx;\n    font-weight: bold;\n    margin-right:3rpx;\n}\n.right-tag{\n    background: #f8b500;\n    color: #916200;\n    font-size: 10px;\n    padding: 5rpx;\n    border-top-right-radius: 30px;\n    border-bottom-right-radius: 5px;\n    padding-left: 20rpx;\n    padding-right: 20rpx;\n    font-weight: bold;\n    overflow-x: hidden;\n    white-space: nowrap;\n    text-overflow:ellipsis;\n    width: 160rpx;\n}\n.border-3px{\n    border:2px solid #f7a600;\n}\n.money-item{\n    position: relative;\n    overflow: hidden;\n}\n.my-badge{\n    background: #f8b500;\n    padding-left: 15px;\n    padding-right: 10px;\n    color: white;\n    position: absolute;\n    border-bottom-left-radius: 30rpx;\n    font-size: 10px;\n    top: 0;\n    right: 0;\n}\n.money-item-choose{\n    background: rgba(250, 209, 24, 0.2);\n}\n",{"version":3,"sources":["recharge.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"recharge.vue","sourceRoot":"src/pages/recharge","sourcesContent":["<template>\n    <view>\n        <view class=\"bg-blue flex justify-between padding-xl padding-right-0\">\n            <view>\n                <view class=\"text-sm\">当前粮票</view>\n               <view class=\"flex align-end\">\n                   <view class=\"bg-cash-sm margin-bottom-xs\"> </view>\n                   <view class=\"text-xxl margin-left-sm text-bold\" style=\"font-size: 50rpx;\">{{userInfo.times}}</view>\n               </view>\n            </view>\n            <view class=\"flex align-center\">\n                <view class=\"bg-white  padding-xs text-sm\" style=\"border-top-left-radius: 30px;border-bottom-left-radius: 30px;\" @click=\"handleBack\" >\n                    <text class=\"cuIcon-back margin-right-xs margin-left-xs\" style=\"\" ></text>\n                    返回首页\n                </view>\n            </view>\n        </view>\n        <view class=\"padding bg-white margin-top-xs\">\n            <view>请选择优惠套餐</view>\n            <view class=\"flex justify-between  margin-sm\" v-for=\"item in recharge.list\" >\n                <view v-for=\"item2 in item\" class=\"flex-sub border-3px  padding-top-sm padding-bottom-sm  radius-xxxl margin-right money-item\" hover-class=\"money-item-choose\" @click=\"handleRecharge(item2)\">\n                    <view class=\"flex justify-center align-end\">\n                        <view class=\"text-shadow text-money text-bold\">{{item2.coin}}</view>\n                        <view class=\"text-black text-md margin-bottom-xs margin-left-xs\">粮票</view>\n                    </view>\n                    <view class=\"flex justify-center margin-top-xs\">\n                        <view class=\"left-tag\">￥{{item2.pay_price}}</view>\n                        <view class=\"right-tag\">{{(item2.pay_price / (item2.coin === 0 ? 1 : item2.coin)).toFixed(2)}}/粮票</view>\n                    </view>\n                    <view class=\"my-badge\">{{item2.name}}</view>\n                </view>\n\n\n\n            </view>\n        </view>\n    </view>\n</template>\n\n<script>\n    import {createAndPaymentOrder, createOrder, getRechargeList, pay} from \"../../api/orders\";\n    import {navigateTo} from \"../../utils/utils\";\n    import cache from \"../../utils/cache\";\n\n    export default {\n        name: \"recharge\",\n        data(){\n            return{\n               cardInfo:{},\n               recharge:{},\n                userInfo:cache.get(\"userInfo\")\n\n            }\n        },\n        async onLoad(options) {\n            this.cardInfo =options;\n            console.log(`调试:接收到参数`, options);\n            this.recharge = await  getRechargeList();\n            this.recharge.list = [];\n            for(let i=0;i<this.recharge.items.length;i+=2){\n                this.recharge.list.push(this.recharge.items.slice(i,i+2))\n            }\n            console.log(`调试:recharge`,  this.recharge )\n        },\n        methods:{\n           async handleBack(){\n               uni.navigateBack(-1);\n           },\n            async handleRecharge(item){\n              console.log(`调试:你选择了充值套餐`, item);\n              await pay({repid:item.id});\n\n            },\n           async handleChoose(e){\n                let { rechargeyuan } = e;\n\n               let result = await createAndPaymentOrder({\n                    price:rechargeyuan,\n                    cardno:this.cardInfo.cardno\n                });\n               let { outtradeno  } = result;\n               console.log(`调试:支付结果`, result);\n               navigateTo({\n                   url:'../waitResult/waitResult',\n                   params:{\n                       outtradeno,\n                       ...this.cardInfo\n                   }\n               });\n\n\n\n\n            }\n        }\n    }\n</script>\n\n<style scoped scoped>\n    .bg-cash-sm{\n        background-image: url(\"../../static/cash_yellow.png\");\n        background-size: 100% 100%;\n        width: 60rpx;\n        height: 35rpx;\n        display: inline-block;\n    }\n    .text-shadow{\n        text-shadow: 2px 2px 1px #80808059;\n    }\n    .text-money{\n        color: #483000;\n        font-size:60rpx;\n    }\n    .left-tag{\n        background:#f8b500;\n        color: #916200;\n        font-size: 10px;\n        padding: 5rpx;\n\n        border-bottom-left-radius: 30px;\n        border-top-left-radius: 5px;\n        padding-left: 20rpx;\n        padding-right: 20rpx;\n        font-weight: bold;\n        margin-right:3rpx;\n    }\n    .right-tag{\n        background: #f8b500;\n        color: #916200;\n        font-size: 10px;\n        padding: 5rpx;\n        border-top-right-radius: 30px;\n        border-bottom-right-radius: 5px;\n        padding-left: 20rpx;\n        padding-right: 20rpx;\n        font-weight: bold;\n        overflow-x: hidden;\n        white-space: nowrap;\n        text-overflow:ellipsis;\n        width: 160rpx;\n    }\n    .border-3px{\n        border:2px solid #f7a600;\n    }\n    .money-item{\n        position: relative;\n        overflow: hidden;\n    }\n    .my-badge{\n        background: #f8b500;\n        padding-left: 15px;\n        padding-right: 10px;\n        color: white;\n        position: absolute;\n        border-bottom-left-radius: 30rpx;\n        font-size: 10px;\n        top: 0;\n        right: 0;\n    }\n    .money-item-choose{\n        background: rgba(250, 209, 24, 0.2);\n    }\n</style>\n"]}]}