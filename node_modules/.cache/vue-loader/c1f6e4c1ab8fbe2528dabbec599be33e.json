{"remainingRequest":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js!/Users/lianfangti/Project/UNI-APP/JIGE/src/pages/nmsl/nmsl.vue?vue&type=style&index=0&id=68b6934a&scoped=true&lang=css&","dependencies":[{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/src/pages/nmsl/nmsl.vue","mtime":1563445266251},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/css-loader/index.js","mtime":1429891385000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  .game_boy{\n      height: 90vh;\n      width: 95%;\n      background-image: url(\"../../static/diwen.png\");\n      background-size: cover;\n      background-color: #d9d9d9;\n      border:2px solid #000;\n      border-radius: 20rpx;\n      border-bottom-right-radius: 160rpx;\n      box-shadow: 10px 10px 0px rgba(128, 128, 128, 0.75);\n      padding: 40rpx;\n      position: relative;\n  }\n    .display_warp{\n        height:400rpx;\n        background-color:#746f7f;\n        border:2px solid #000;\n        width: 95%;\n        margin: 0 auto;\n        border-bottom-right-radius: 100rpx;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n    .display{\n        width: 350rpx;\n        height: 350rpx;\n        font-family: msk;\n        border:2px solid #000;\n        background: #939400;\n        color: #002000;\n        font-size: 16px;\n        font-weight: bold;\n        overflow: hidden;\n        overflow-y: scroll;\n\n    }\n    .direction_button{\n        width: 210rpx;\n        height:210rpx;\n        text-align: center;\n        /*background: red;*/\n        /*display: flex;*/\n        /*justify-content: center;*/\n    }\n    .direction_btn{\n        width:70rpx;\n        height: 70rpx;\n        background: #4f4f4f;\n        border-top-left-radius: 10rpx;\n        border-top-right-radius: 10rpx;\n        display: inline-block;\n        margin: -1px;\n\n    }\n    .direction_center{\n        border-top-left-radius: 0rpx;\n        border-top-right-radius: 0rpx;\n    }\n    .direction_center_cirle{\n        height: 100%;\n        width: 100%;\n        background-color: #3c3c3c;\n        border-radius: 100%;\n\n    }\n    .direction_up{\n        transform: rotate(0deg);\n        border-right: 3px solid rgba(0, 0, 0, 0.3);\n\n    }\n  .direction_right{\n    transform: rotate(90deg);\n      border-right: 3px solid rgba(0, 0, 0, 0.3);\n      border-top: 3px solid rgba(0, 0, 0, 0.3);\n\n  }\n  .direction_down{\n      transform: rotate(180deg);\n      border-left: 3px solid rgba(0, 0, 0, 0.3);\n      border-top: 3px solid rgba(0, 0, 0, 0.3);\n\n  }\n  .direction_left{\n      transform: rotate(270deg);\n      border-left: 3px solid rgba(0, 0, 0, 0.3);\n\n  }\n\n    .direction_click{\n        border:0px;\n    }\n\n\n    .control_button{\n        width: 250rpx;\n        height: 100rpx;\n        background-color: #c5babf;\n        border-radius: 50px;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        padding: 20rpx;\n        transform: rotate(-25deg);\n\n    }\n    .control_btn{\n        width: 80rpx;\n        height: 80rpx;\n        background-color: #c3003e;\n        border-radius: 100%;\n        border:3px solid #000;\n        line-height: 80rpx;\n        text-align: center;\n        color: rgba(0, 0, 0, 0.4);\n    }\n  .control_btn_hover{\n      width: 77rpx;\n      height: 77rpx;\n  }\n  .menu_btn_warp{\n      width: 120rpx;\n      text-align: center;\n      margin-right:50rpx;\n      transform:rotate(-20deg);\n  }\n  .menu_button{\n      position: absolute;\n      bottom: 100rpx;\n      width: 100%;\n\n\n  }\n.menu_btn{\n    background-color: #3d3d3d;\n    width: 120rpx;\n    border-radius: 20rpx;\n    height: 40rpx;\n    border: 5px solid  #c3c3c3;\n}\n  .menu_btn_hover{\n      width: 115rpx;\n      height: 35rpx;\n  }\n .menu_btn_text{\n        font-size: 10px;\n        margin-top: 10rpx;\n        letter-spacing: 3px;\n     color: rgba(0, 0, 0, 0.52);\n }\n    @font-face{\n        font-family: 'msk';\n        src: url(\"../../static/MSK.TTF\") format('truetype');\n    }\n",{"version":3,"sources":["nmsl.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"nmsl.vue","sourceRoot":"src/pages/nmsl","sourcesContent":["<template>\n  <view class=\" flex justify-center padding\" style=\"height: 100vh;\" :class=\"modeColor[mode] || 'bg-gradual-blue'\" v-if=\"isMobie\">\n     <view class=\"game_boy\" >\n           <view class=\"display_warp\">\n              <div class=\"display \" ref=\"display\">\n                  <view class=\"cu-load loading\" v-if=\"loading\">\n\n                  </view>\n                 <view v-if=\"toastShow\" class=\"flex justify-center\">\n                     <view class=\"flex padding\">\n                         <view :class=\"'cuIcon cuIcon-'+toastIcon+''\"></view>\n                         <text>{{toastText}}</text>\n                     </view>\n                 </view>\n                  <view v-if=\"showMenu\">\n                      <view class=\"padding-xs\" :class=\"active === index ? 'bg-black': ''\" v-for=\"(item,index) in menus\">\n                         {{index+1}}.{{item.name}}\n                      </view>\n                  </view>\n                  <view v-else v-html=\"content\">\n\n                  </view>\n              </div>\n           </view>\n         <view class=\"flex justify-between align-center\"style=\"margin-top: 200rpx;\">\n             <view class=\"button_area\">\n                 <view class=\"direction_button\">\n                     <view class=\"direction_btn direction_up\" hover-class=\"direction_click\" @click=\"handleDireClick('up')\"></view>\n                     <view class=\"\" style=\"margin: -4px !important;padding: 0px;\">\n                         <view class=\"direction_btn direction_left\" hover-class=\"direction_click\" @click=\"handleDireClick('left')\"></view>\n                         <view class=\"direction_btn direction_center\" hover-class=\"direction_click\" @click=\"handleDireClick\">\n                             <view class=\"direction_center_cirle\"></view>\n                         </view>\n                         <view class=\"direction_btn direction_right\" hover-class=\"direction_click\" @click=\"handleDireClick('right')\"></view>\n                     </view>\n                     <view class=\"direction_btn direction_down\" hover-class=\"direction_click\" @click=\"handleDireClick('down')\"></view>\n                 </view>\n             </view>\n             <view class=\"control_button\">\n                    <view class=\"control_btn\" hover-class=\"control_btn_hover\" @click=\"handleDireClick('A')\">A</view>\n                    <view class=\"control_btn\"   hover-class=\"control_btn_hover\" @click=\"handleDireClick('B')\">B</view>\n             </view>\n\n         </view>\n\n\n         <view class=\"menu_button  flex \">\n            <view class=\"flex\" style=\"margin-left: 130rpx;\">\n                <view class=\"menu_btn_warp\">\n                    <view class=\"menu_btn\"  hover-class=\"menu_btn_hover\" @click=\"handleDireClick('SELECT')\"></view>\n                    <view class=\"menu_btn_text\"  >SELECT</view>\n                </view>\n                <view class=\"menu_btn_warp\">\n                    <view class=\"menu_btn\" hover-class=\"menu_btn_hover\" @click=\"handleDireClick('START')\"></view>\n                    <view class=\"menu_btn_text\" >START</view>\n                </view>\n            </view>\n         </view>\n\n     </view>\n\n  </view>\n  <view v-else>\n      <h1>ç¨ææºæµè§å¨æå¼å å­¤å¿ï¼NMSL</h1>\n  </view>\n</template>\n\n<script>\n\n    import {getNMSL, pullNMSL} from \"../../api/user\";\n    import {isMobile} from  \"../../utils/utils\"\n\n\n    export default {\n        name: \"nmsl\",\n        data(){\n            return {\n                active:0,\n                nmsl:{},\n                modeColor:{\n                  'ktff':'bg-gradual-green',\n                  'sclh':'bg-gradual-orange',\n                  'chp':'bg-gradual-red',\n                },\n                showMenu:true,\n                toastShow:false,\n                isMobie:false,\n                toastIcon:'roundcheckfill',\n                toastText:'æå',\n                mode:'',\n                content:false,\n                loading:false,\n                timer:null,\n                menus:[\n                    {\n                        name:\"å£åè¬è³\",\n                        key:'ktff',\n                    },\n                    {\n                        name:\"èç¿è²è±\",\n                        key:'sclh',\n                    },\n                    {\n                        name:\"å½©è¹å±\",\n                        key:'chp',\n                    },\n                    {\n                        name:\"å¸®å©\",\n                        key:'help',\n                    },\n\n\n                ]\n            }\n        },\n       async  onLoad(){\n            document.title=\"å£åè¬è³2.0\"\n           this.isMobie = isMobile();\n            // let nmsl = await getNMSL()\n            // console.log(`è°è¯:`, nmsl)\n        },\n        methods:{\n\n           async  handleDireClick(e){\n                // navigator.vibrate([500,300,400,300]);\n                console.log(`è°è¯:`, e);\n                uni.vibrateShort({\n                    success(res){},\n                    fail(err){\n                        console.error(`éè¯¯:`, err)\n                    }\n                });\n                let display = this.$refs.display;\n\n                switch (e) {\n                    case \"up\":\n                        if(this.active-1<0){\n                            this.active = this.menus.length -1\n\n                        }else{\n                            this.active -=1;\n                        }\n\n                    break;\n                    case \"down\":\n                        if(this.active+1 >= this.menus.length){\n                            this.active = 0\n                        }else{\n                            this.active +=1;\n                        }\n\n\n\n                   break;\n                    case \"left\":\n                        break;\n                    case \"right\":\n                        if(this.mode==='ktff' || this.mode==='sclh' || this.mode==='chp'){\n                            await  this.getNMSL(this.mode);\n                        }\n                    break;\n                    case \"A\":\n                        console.log(`è°è¯:å½åéæ©`, this.menus[this.active]);\n                        this.mode =  this.menus[this.active].key;\n                        switch (this.menus[this.active].key) {\n                            case \"help\":\n                                let content = `æä½è¯´æ:<br>æ¹åé®ä¸ä¸åæ¢èå å·¦å³å¯åæ¢ä¸ä¸æ¡å¾ç Aé®ç¡®è®¤ Bé®è¿å SELECTé®å¯å¤å¶çº¯æå­  é¿æå¾çå¯ä¿å­æåéç»å¥½å\n                                               <br>æ¨¡å¼è¯´æ:\n                                                <br>å£åè¬è³->å±è½åäº² çæ®å¨ç­å­è¯ è¾ä¸ºç¼å åçº§ä½¿ç¨\n                                                <br>èç¿è²è±->ç«åå¨å¼\n                                                <br>å½©è¹å±->æç¹ç±»ä¼¼åå³æè¯\n                                              `;\n                                this.showContent(`<div class=\"padding-xs\" style=\"line-height: 25px;\">${content}</div>`);\n                            break;\n                            case \"ktff\":\n                                this.showContent('');\n                               await  this.getNMSL('ktff');\n                            break;\n                            case \"chp\":\n                                this.showContent('');\n                                await  this.getNMSL('chp');\n                             break;\n                            case \"sclh\":\n                                this.showContent('');\n                                await  this.getNMSL('sclh');\n                                break;\n                            case \"pachong\":\n                                this.pachong();\n                            break;\n                            default:\n                                this.showToast({title:'ææªå¼æ¾',type:'fail'});\n                                break;\n                        }\n\n                    break;\n                    case \"B\":\n                        this.showMenu = true;\n                        this.mode='';\n                    break;\n                    case \"SELECT\":\n                        if(this.mode!==''){\n                            uni.setClipboardData({\n                                data:this.nmsl.text,\n                                success:(res)=>{\n                                    console.log(`è°è¯:å¤å¶æå`, res);\n                                    this.showToast({title:'å¤å¶æå'});\n                                },\n                                fail:(err)=>{\n                                    console.error(`éè¯¯:`, err)\n                                    this.showToast({title:'å¤å¶å¤±è´¥',type:'fail'});\n                                }\n                            });\n                        }\n                    break;\n                }\n                display.scrollTop = (this.active-6 <0 ?0 : this.active-6) *  ( display.scrollHeight /  (this.menus.length -6));\n\n                console.log(`è°è¯:`, this.active,display,display.scrollTop)\n\n            },\n            showContent(content){\n                 this.showMenu = false;\n                this.content =content\n            },\n            pachong(){\n                this.timer=setInterval(()=>{\n                    pullNMSL({type:'ktff'}).then(res=>{\n                        console.log(`è°è¯:KTFF`, res)\n                    });\n                    // pullNMSL({type:'sclh'}).then(res=>{\n                    //     console.log(`è°è¯:SCLH`, res)\n                    // })\n                    // pullNMSL({type:'chp'}).then(res=>{\n                    //     console.log(`è°è¯:CHP`, res)\n                    // })\n                },1000)\n\n            },\n            showToast({title='Toast',type='success', icon,d=2000}){\n                let  types={\n                    \"success\":'roundcheckfill',\n                    \"fail\":\"roundclosefill\",\n                    'none':''\n                }\n                this.toastShow = true;\n                this.toastText  = title;\n                this.toastIcon = icon || types[type];\n                setTimeout(()=>{\n                    this.toastShow = false\n                },d)\n            },\n            async getNMSL(type='ktff'){\n                this.loading =true;\n\n                let nmsl = await  getNMSL({type});\n                this.nmsl = nmsl;\n                this.loading =false;\n                console.log(`è°è¯:æ°æ®è·åæå`, nmsl.text);\n                this.showContent(`<img src=\"${nmsl.src}\" style=\"width: 100%;height: 100%;\">`);\n            }\n        }\n    }\n</script>\n\n<style scoped scoped>\n  .game_boy{\n      height: 90vh;\n      width: 95%;\n      background-image: url(\"../../static/diwen.png\");\n      background-size: cover;\n      background-color: #d9d9d9;\n      border:2px solid #000;\n      border-radius: 20rpx;\n      border-bottom-right-radius: 160rpx;\n      box-shadow: 10px 10px 0px rgba(128, 128, 128, 0.75);\n      padding: 40rpx;\n      position: relative;\n  }\n    .display_warp{\n        height:400rpx;\n        background-color:#746f7f;\n        border:2px solid #000;\n        width: 95%;\n        margin: 0 auto;\n        border-bottom-right-radius: 100rpx;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n    .display{\n        width: 350rpx;\n        height: 350rpx;\n        font-family: msk;\n        border:2px solid #000;\n        background: #939400;\n        color: #002000;\n        font-size: 16px;\n        font-weight: bold;\n        overflow: hidden;\n        overflow-y: scroll;\n\n    }\n    .direction_button{\n        width: 210rpx;\n        height:210rpx;\n        text-align: center;\n        /*background: red;*/\n        /*display: flex;*/\n        /*justify-content: center;*/\n    }\n    .direction_btn{\n        width:70rpx;\n        height: 70rpx;\n        background: #4f4f4f;\n        border-top-left-radius: 10rpx;\n        border-top-right-radius: 10rpx;\n        display: inline-block;\n        margin: -1px;\n\n    }\n    .direction_center{\n        border-top-left-radius: 0rpx;\n        border-top-right-radius: 0rpx;\n    }\n    .direction_center_cirle{\n        height: 100%;\n        width: 100%;\n        background-color: #3c3c3c;\n        border-radius: 100%;\n\n    }\n    .direction_up{\n        transform: rotate(0deg);\n        border-right: 3px solid rgba(0, 0, 0, 0.3);\n\n    }\n  .direction_right{\n    transform: rotate(90deg);\n      border-right: 3px solid rgba(0, 0, 0, 0.3);\n      border-top: 3px solid rgba(0, 0, 0, 0.3);\n\n  }\n  .direction_down{\n      transform: rotate(180deg);\n      border-left: 3px solid rgba(0, 0, 0, 0.3);\n      border-top: 3px solid rgba(0, 0, 0, 0.3);\n\n  }\n  .direction_left{\n      transform: rotate(270deg);\n      border-left: 3px solid rgba(0, 0, 0, 0.3);\n\n  }\n\n    .direction_click{\n        border:0px;\n    }\n\n\n    .control_button{\n        width: 250rpx;\n        height: 100rpx;\n        background-color: #c5babf;\n        border-radius: 50px;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        padding: 20rpx;\n        transform: rotate(-25deg);\n\n    }\n    .control_btn{\n        width: 80rpx;\n        height: 80rpx;\n        background-color: #c3003e;\n        border-radius: 100%;\n        border:3px solid #000;\n        line-height: 80rpx;\n        text-align: center;\n        color: rgba(0, 0, 0, 0.4);\n    }\n  .control_btn_hover{\n      width: 77rpx;\n      height: 77rpx;\n  }\n  .menu_btn_warp{\n      width: 120rpx;\n      text-align: center;\n      margin-right:50rpx;\n      transform:rotate(-20deg);\n  }\n  .menu_button{\n      position: absolute;\n      bottom: 100rpx;\n      width: 100%;\n\n\n  }\n.menu_btn{\n    background-color: #3d3d3d;\n    width: 120rpx;\n    border-radius: 20rpx;\n    height: 40rpx;\n    border: 5px solid  #c3c3c3;\n}\n  .menu_btn_hover{\n      width: 115rpx;\n      height: 35rpx;\n  }\n .menu_btn_text{\n        font-size: 10px;\n        margin-top: 10rpx;\n        letter-spacing: 3px;\n     color: rgba(0, 0, 0, 0.52);\n }\n    @font-face{\n        font-family: 'msk';\n        src: url(\"../../static/MSK.TTF\") format('truetype');\n    }\n</style>\n"]}]}