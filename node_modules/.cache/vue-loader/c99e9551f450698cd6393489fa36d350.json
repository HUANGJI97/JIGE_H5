{"remainingRequest":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js!/Users/lianfangti/Project/UNI-APP/JIGE/src/pages/index/index.vue?vue&type=style&index=0&id=7200431f&scoped=true&lang=css&","dependencies":[{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/src/pages/index/index.vue","mtime":1562228497553},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/css-loader/index.js","mtime":1429891385000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lianfangti/Project/UNI-APP/JIGE/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.header-data {\n    /* margin-top: 39vh; */\n}\n\n.header_bg {\n    width: 100%;\n    height: 40vh;\n    background-image: url(https://cdn.nlark.com/yuque/0/2019/png/280374/1552996358228-assets/web-upload/e256b4ce-d9a4-488b-8da2-032747213982.png);\n    background-size: 100% 100%;\n    background-color: white;\n    position: absolute;\n\n    top: 0px;\n    z-index: 9;\n}\n\n.page {\n}\n\n.response {\n    height: 50vh;\n}\n\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqdA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/index","sourcesContent":["<template name=\"basics\">\r\n    <page title=\"校园牛奶机\">\r\n        <status v-if=\"cards.length < 1\" text=\"暂无卡片\" image=\"../../static/card.png\" :buttons=\"buttons\" @buttonTap=\"handleButtonTap\"></status>\r\n        <view v-else>\r\n            <view class='flex margin-left-sm'>\r\n                <view  hover-class=\"text-green\" >\r\n                    <text class='cuIcon-roundadd'></text>\r\n                    <text class=\"text-df\" data-url=\"../addCard/addCard\" @click=\"handleNavigatorClick\">添加卡片</text>\r\n                </view>\r\n                <view  class=\"margin-left-sm\" hover-class=\"text-green\">\r\n                    <text class='cuIcon-unlock'></text>\r\n                    <text class=\"text-df\" @click=\"handleUnBindCard\">解绑卡片</text>\r\n                </view>\r\n            </view>\r\n            <swiper class=\"card-swiper \" :class=\"!dotStyle?'square-dot':'round-dot'\" :indicator-dots=\"false\" :circular=\"true\"\r\n                    :autoplay=\"false\" interval=\"5000\" duration=\"500\" @change=\"cardSwiper\" indicator-color=\"#8799a3\"\r\n                    indicator-active-color=\"#000000\">\r\n                <swiper-item v-for=\"(item,index) in cards\" :key=\"index\" :class=\"cardCur==index?'cur':''\" >\r\n                    <view class=\"swiper-item padding bg-gray\"  :style=\"'background-image:url('+cardBg[index]+');background-size:cover;'\">\r\n                        <view class=\" cf \">\r\n                            <view class=' radius fl '>\r\n                                <image src=\"https://deepand.oss-cn-shenzhen.aliyuncs.com/icon/icon-logo-milk.png\" mode=\"aspectFill\" style=\"width: 80rpx;height: 80rpx;\" ></image>\r\n                            </view>\r\n                            <view class='text-white radius fr padding-sm text-price-cn'>{{cardInfo.money}}</view>\r\n                        </view>\r\n                        <view class=\" cf padding-sm\">\r\n                            <view class='text-white radius fl  ' style=\"letter-spacing: 10upx;\"> {{cardInfo.cardno}} </view>\r\n                        </view>\r\n                        <view class=\" cf p   text-xs text-white \">\r\n                            <view class=' radius fl padding-sm '>\r\n                                <view>持卡人</view>\r\n                                <view class=\"padding-left\">{{cardInfo.cardname}}</view>\r\n                            </view>\r\n                            <view class='radius fr padding-sm'>\r\n                                <view>卡限额</view>\r\n                                <view class=\"padding-left\">{{`${ cardInfo.daylimitmoney}元/${cardInfo.daylimitcount}次`}}</view>\r\n                            </view>\r\n                        </view>\r\n                        <!--                    https://deepand.oss-cn-shenzhen.aliyuncs.com/icon/icon-logo-milk.png-->\r\n                        <!--                    <image :src=\"item.url\" mode=\"aspectFill\" v-if=\"item.type=='image'\"></image>-->\r\n                        <!--                    <video :src=\"item.url\" autoplay loop muted :show-play-btn=\"false\" :controls=\"false\" objectFit=\"cover\" v-if=\"item.type=='video'\"></video>-->\r\n                    </view>\r\n                </swiper-item>\r\n            </swiper>\r\n            <view>\r\n                <view class=\"flex bg-white padding-sm\" v-if=\"false\">\r\n                    <view class=\"flex-sub radius text-center\">\r\n                        <button class=\"cu-btn round bg-green shadow text-sm icon-uploa\" @click=\"handleAddCard\">添加卡片</button>\r\n                    </view>\r\n                    <view class=\"flex-sub radius text-center\">\r\n                        <button class=\"cu-btn round bg-green shadow text-sm\" @click=\"showUnbindModal\">解绑卡片</button>\r\n                    </view>\r\n                </view>\r\n\r\n                <view class=\"flex\">\r\n                    <view class=\"flex-sub bg-grey radius\">\r\n                        <view class=\"cu-list menu shadow-lg\">\r\n                            <view class=\"cu-item \">\r\n                                <view class=\"content\">\r\n                                    <text class=\"icon-attentionfill text-black\"></text>\r\n                                    <text class=\"text-black text-md\">卡号</text>\r\n                                </view>\r\n                                <view class=\"action\">\r\n                                        <view class=\"picker text-grey text-sm\">{{cardInfo['cardno']}}</view>\r\n                                </view>\r\n                            </view>\r\n                        </view>\r\n                    </view>\r\n                    <view class=\"flex-sub bg-grey radius\">\r\n                        <view class=\"cu-list menu\">\r\n                            <view class=\"cu-item\">\r\n                                <view class=\"content\" data-link=\"https://github.com/weilanwl/ColorUI\">\r\n                                    <text class=\"icon-attentionfill text-black\"></text>\r\n                                    <text class=\"text-black text-md\">卡状态</text>\r\n                                </view>\r\n                                <view class=\"action\">\r\n                                    <view class=\"cu-tag  round text-xs\" :class=\"colorMap[cardInfo['cardstatus']]\" >{{cardInfo['cardstatus']}}</view>\r\n                                </view>\r\n                            </view>\r\n                        </view>\r\n                    </view>\r\n                </view>\r\n\r\n                <view class=\"flex\">\r\n                    <view class=\"flex-sub bg-grey radius\">\r\n                        <view class=\"cu-list menu shadow-lg\">\r\n                            <view class=\"cu-item\">\r\n                                <view class=\"content\" data-link=\"https://github.com/weilanwl/ColorUI\">\r\n                                    <text class=\"icon-attentionfill text-black\"></text>\r\n                                    <text class=\"text-black text-md\">孩子名称</text>\r\n                                </view>\r\n                                <view class=\"action\">\r\n                                    <text class=\"text-grey text-sm\">{{cardInfo['cardname']}}</text>\r\n                                    <view class=\"cu-tag line-green round margin-left-sm text-xs\" @click=\"handleEditName\">\r\n                                        修改\r\n                                    </view>\r\n                                </view>\r\n                            </view>\r\n                        </view>\r\n                    </view>\r\n                    <view class=\"flex-sub bg-grey radius\">\r\n                        <view class=\"cu-list menu\">\r\n                            <view class=\"cu-item\">\r\n                                <view class=\"content\" data-link=\"https://github.com/weilanwl/ColorUI\">\r\n                                    <text class=\"icon-attentionfill text-black\"></text>\r\n                                    <text class=\"text-black text-md\">学校名称</text>\r\n                                </view>\r\n                                <view class=\"action\">\r\n                                    <text class=\"text-grey text-sm\">{{cardInfo['schoolname']}}</text>\r\n                                </view>\r\n                            </view>\r\n                        </view>\r\n                    </view>\r\n                </view>\r\n\r\n                <view class=\"flex\" v-if=\"false\">\r\n                    <view class=\"flex-sub bg-grey radius\">\r\n                        <view class=\"cu-list menu shadow-lg\">\r\n                            <view class=\"cu-item\">\r\n                                <view class=\"content\" data-link=\"https://github.com/weilanwl/ColorUI\">\r\n                                    <text class=\"icon-attentionfill text-black\"></text>\r\n                                    <text class=\"text-black text-md\">卡余额</text>\r\n                                </view>\r\n                                <view class=\"action\">\r\n                                    <text class=\"text-grey text-sm text-price\">{{cardInfo['money']}}</text>\r\n                                </view>\r\n                            </view>\r\n                        </view>\r\n                    </view>\r\n                    <view class=\"flex-sub bg-grey radius\">\r\n                        <view class=\"cu-list menu\">\r\n                            <view class=\"cu-item\">\r\n                                <view class=\"content\" data-link=\"https://github.com/weilanwl/ColorUI\">\r\n                                    <text class=\"icon-attentionfill text-black\"></text>\r\n                                    <text class=\"text-black text-md\">消费限制</text>\r\n                                </view>\r\n                                <view class=\"action\">\r\n                                    <text class=\"text-grey text-sm\">{{cardInfo['daylimitmoney']}}</text>\r\n                                    <view class=\"cu-tag line-green round margin-left-sm text-xs\" data-url=\"../editCard/editCard\" @click=\"handleNavigatorClick\" >设置</view>\r\n                                </view>\r\n                            </view>\r\n                        </view>\r\n                    </view>\r\n                </view>\r\n\r\n\r\n                <view class=\"flex\">\r\n                    <view class=\"flex-sub bg-grey radius\">\r\n                        <view class=\"cu-list menu shadow-lg\">\r\n                            <view class=\"cu-item\">\r\n                                <view class=\"content\" data-link=\"https://github.com/weilanwl/ColorUI\">\r\n                                    <text class=\"icon-attentionfill text-black\"></text>\r\n                                    <text class=\"text-black text-md\">昨日消费</text>\r\n                                </view>\r\n                                <view class=\"action\">\r\n                                    <text class=\"text-grey text-sm \">{{cardInfo['yesterdayused']}}</text>\r\n                                </view>\r\n                            </view>\r\n                        </view>\r\n                    </view>\r\n                    <view class=\"flex-sub bg-grey radius\">\r\n                        <view class=\"cu-list menu\">\r\n                            <view class=\"cu-item\">\r\n                                <view class=\"content\" data-link=\"https://github.com/weilanwl/ColorUI\">\r\n                                    <text class=\"icon-attentionfill text-black\"></text>\r\n                                    <text class=\"text-black text-md\">今日消费</text>\r\n                                </view>\r\n                                <view class=\"action\">\r\n                                    <text class=\"text-grey text-sm\">{{cardInfo['todayused']}}</text>\r\n                                </view>\r\n                            </view>\r\n                        </view>\r\n                    </view>\r\n                </view>\r\n            </view>\r\n\r\n            <view v-if=\"false\" class=\"header-data padding-sm flex text-center text-grey bg-white shadow-warp\">\r\n                <view class=\"flex flex-sub flex-direction solid-right\">\r\n                    <view class=\"text-md text-blue\">8.0元/3次</view>\r\n                    <view class=\"margin-top-sm text-sm\">\r\n                        <text class=\"icon-favorfill\"></text>\r\n                        昨日消费\r\n                    </view>        \r\n                </view>\r\n                <view class=\"flex flex-sub flex-direction\">\r\n                    <view class=\"text-md text-green\">9.0元/4次</view>\r\n                    <view class=\"margin-top-sm text-sm\">\r\n                        <text class=\"icon-fork\"></text>\r\n                        今日消费\r\n                    </view>\r\n                </view>\r\n            </view>\r\n\r\n            <scroll-view scroll-y class=\"page padding-top-lg bg-white\">\r\n                <view class=\"nav-list\">\r\n                    <view\r\n                            hover-class=\"none\"\r\n                            :data-data=\"item\"\r\n                            class=\"nav-li\"\r\n                            :class=\"'bg-'+item.color\"\r\n                            :style=\"[{animation: 'show ' + ((index+1)*0.2+1) + 's 1'}]\"\r\n\r\n                            v-for=\"(item,index) in elements\"\r\n                            :key=\"index\"\r\n                            @click=\"handleElementsTap\"\r\n                    >\r\n                        <view class=\"nav-title\">{{item.title}}</view>\r\n                        <view class=\"text-sm\">{{item.name}}</view>\r\n                        <text :class=\"'cuIcon-' + item.icon\"></text>\r\n                    </view>\r\n                </view>\r\n                <view class=\"cu-tabbar-height\"></view>\r\n            </scroll-view>\r\n\r\n            <modal title=\"修改名称\"  v-model=\"modalEditName\" @onCancel=\"handleEditNameCancel\" @onConfirm=\"handleEditSubmit\">\r\n                <view class=\"cu-form-group \">\r\n                    <view class=\"cu-form-group\">\r\n                        <view class='title'>备注名称</view>\r\n                        <input class=\"bg-white radius\" @change=\"handleNameChange\" v-model=\"cardInfo.cardname\"    placeholder=\"请输入孩子姓名\"/>\r\n                    </view>\r\n                </view>\r\n            </modal>\r\n\r\n<!--            <modal title=\"解绑卡片\"  v-model=\"modalUnBindCard\"  @onConfirm=\"handleUnBindCard\">-->\r\n<!--                是否确认解绑该卡片-->\r\n<!--            </modal>-->\r\n        </view>\r\n    </page>\r\n</template>\r\n\r\n<script>\r\n    import {truncate} from 'fs';\r\n    import Modal from \"../component/modal\";\r\n    import {getCardInfo, getCardList, getOpenid, unLinkCard, updateCardName} from \"../../api/card\";\r\n    import Page from \"../component/page/page\";\r\n    import Status from \"../component/status\";\r\n\r\n    const utils = require(\"../../utils/utils\")\r\n\r\n    export default {\r\n        components: {Status, Page, Modal},\r\n        data() {\r\n            return {\r\n                modalEditName: false,\r\n                modalUnBindCard:false,\r\n                buttons:[{\r\n                    text:'添加卡片',\r\n                    key:'add_card'\r\n                }],\r\n                cardCur:0,\r\n                StatusBar: this.StatusBar,\r\n                CustomBar: this.CustomBar,\r\n                colorMap : { '正常':'bg-green','已挂失':'bg-orange','冻结':'bg-red'},\r\n                cardBg:[\r\n                    \"https://deepand.oss-cn-shenzhen.aliyuncs.com/icon/bg1.jpg\",\r\n                    \"https://deepand.oss-cn-shenzhen.aliyuncs.com/icon/visa-bg-3.jpg\",\r\n                    \"https://deepand.oss-cn-shenzhen.aliyuncs.com/icon/visa-bg-4.jpg\"\r\n                ],\r\n                dotStyle: false,\r\n                towerStart: 0,\r\n                direction: '',\r\n                cardInfo:{},\r\n                cards:[],\r\n                title: \"Hello\",\r\n                index: 0,\r\n                elements: [\r\n                    {\r\n                        key: 'card_edit',\r\n                        title: \"卡操作\",\r\n                        name: \"限购设置 卡挂失\",\r\n                        color: \"cyan\",\r\n                        icon: \"newsfill\",\r\n                        url:'../editCard/editCard'\r\n                    },\r\n                    {\r\n                        key: 'recharge',\r\n                        title: \"账户充值\",\r\n                        name: \"4月16日 充值100\",\r\n                        color: \"blue\",\r\n                        icon: \"pay\",\r\n                        url:\"../recharge/recharge\"\r\n                    },\r\n                    {\r\n                        title: \"消费记录\",\r\n                        name: \"consume\",\r\n                        color: \"purple\",\r\n                        icon: \"refund\",//consumeRecord\r\n                        url:'../consumeRecord/consumeRecord'\r\n                    },\r\n                    {\r\n                        title: \"充值记录 \",\r\n                        name: \"recharge\",\r\n                        color: \"mauve\",\r\n                        icon: \"moneybagfill\",\r\n                        url:\"../rechargeRecord/rechargeRecord\"\r\n                    }\r\n                ]\r\n            };\r\n        },\r\n        async onLoad() {\r\n           this.loadData();\r\n\r\n            // this.elements[1]['name']=cards[0]['recharge'];\r\n\r\n        },\r\n        async onShow(){\r\n            this.loadData();\r\n            // return 0;\r\n            // this.cardInfo = await  getCardInfo({cardno:this.cardInfo['cardno']});\r\n            //\r\n            // this.elements[1]['name'] = this.cardInfo['lastrecharge']['date'];\r\n        },\r\n\r\n        methods: {\r\n            handleButtonTap({key}){\r\n                // console.log(`调试:`, e)\r\n                if(key === 'add_card'){\r\n                    this.handleAddCard();\r\n                }\r\n\r\n            },\r\n            async loadData(){\r\n                let cards =await getCardList();\r\n                if(cards.length <1 ){\r\n                    this.cards = [];\r\n                    return  0\r\n                }\r\n                this.cards = cards;\r\n                this.switchCard(0);\r\n            },\r\n            // 卡片菜单点击\r\n            handleElementsTap(e){\r\n                let  { currentTarget } = e,{ dataset } = currentTarget, {data }= dataset;\r\n\r\n                switch (data.key) {\r\n                    case \"card_edit\":\r\n                        utils.navigateTo({\r\n                            url:data.url,\r\n                            params:{\r\n                                ...this.cardInfo\r\n                            }\r\n                        });\r\n                    break;\r\n                    case \"recharge\":\r\n                        utils.navigateTo({\r\n                            url:data.url,\r\n                            params:{\r\n                                ...this.cardInfo\r\n                            }\r\n                        });\r\n\r\n                     break;\r\n                    default:\r\n                        utils.navigateTo({\r\n                            url:data.url,\r\n                            params:{\r\n                                ...this.cardInfo\r\n                            }\r\n                        });\r\n                        break;\r\n\r\n                }\r\n\r\n                console.log(`调试:data`, data)\r\n            },\r\n            async cardSwiper(e) {\r\n                this.cardCur = e.detail.current;\r\n                this.switchCard(this.cardCur);\r\n            },\r\n            async switchCard(index){\r\n                this.cardInfo = await  getCardInfo({cardno:this.cards[index]});\r\n                console.log(`调试:switchCard方法中 当前cards`, this.cards);\r\n                console.log(`调试: 当前cardinfo`, this.cardInfo);\r\n                // let {date,money,give} = this.cardInfo['lastrecharge'];\r\n                this.elements[1]['name'] =  this.cardInfo['lastrecharge'];\r\n            },\r\n            handleNavigatorClick(e){\r\n                let {target:{dataset:{url}}} = e;\r\n                uni.navigateTo({\r\n                    url\r\n                })\r\n                console.log(`调试:`, url)\r\n            },\r\n            PickerChange(e) {\r\n                this.cardCur = e.detail.value;\r\n            },\r\n            handleEditName() {\r\n                console.log(`调试:事件调用成功`);\r\n                this.modalEditName = true;\r\n            },\r\n            handleNameChange(e){\r\n               const {detail:{value}} = e;\r\n               this.tempCardName = value;\r\n               console.log(`调试:`, value)\r\n            },\r\n            //更改名字提交\r\n            async handleEditNameCancel(){\r\n                // this.cards[this.cardCur]['name']=this.tempCardName;\r\n                // uni.showLoading({ title:'请稍后...' });\r\n                // let  cardno = this.cardInfo.cardno;\r\n                // let name = this.cardInfo.cardname\r\n                // await  updateCardName({cardno,name});\r\n                // uni.hideLoading();\r\n                uni.showToast({\r\n                    title:'取消了操作'\r\n\r\n                });\r\n\r\n                console.log(`调试:你点击了确定`)\r\n            },    //更改名字提交\r\n            async handleEditSubmit(){\r\n                // this.cards[this.cardCur]['name']=this.tempCardName;\r\n                uni.showLoading({ title:'请稍后...' });\r\n                let  cardno = this.cardInfo.cardno;\r\n                let name = this.cardInfo.cardname\r\n                await  updateCardName({cardno,name});\r\n                uni.hideLoading();\r\n                uni.showToast({\r\n                    type:'success',\r\n                    title:'修改成功'\r\n                });\r\n\r\n                console.log(`调试:你点击了确定`)\r\n            },\r\n            //显示解绑卡片提示\r\n            showUnbindModal(){\r\n                this.modalUnBindCard = true\r\n            },\r\n            //解绑卡片提交\r\n           async handleUnBindCard(){\r\n                let  com = await  utils.comfirm({\r\n                    title:'解绑卡片',\r\n                    content:'是否确认解绑'\r\n                });\r\n                if(com){\r\n                    uni.showLoading({ title:'解绑中...' });\r\n                    let res =await unLinkCard({cardno:this.cardInfo.cardno}).catch(err=>{\r\n                        uni.hideLoading()\r\n                        uni.showToast({\r\n                            icon:'none',\r\n                            title:'解绑失败'\r\n                        })\r\n                    });\r\n                    console.log(`调试:解绑返回值`, res);\r\n                    uni.hideLoading()\r\n\r\n                    uni.showToast({\r\n                        title:'解绑成功'\r\n                    })\r\n                    // this.loadData();\r\n                    uni.reLaunch({\r\n                        url:'../index/index'\r\n                    })\r\n\r\n                }\r\n\r\n            },\r\n            //添加卡片\r\n            handleAddCard(){\r\n                uni.navigateTo({\r\n                    url:'../addCard/addCard'\r\n                })\r\n            }\r\n\r\n        }\r\n    };\r\n</script>\r\n\r\n<style scoped>\r\n    .header-data {\r\n        /* margin-top: 39vh; */\r\n    }\r\n\r\n    .header_bg {\r\n        width: 100%;\r\n        height: 40vh;\r\n        background-image: url(https://cdn.nlark.com/yuque/0/2019/png/280374/1552996358228-assets/web-upload/e256b4ce-d9a4-488b-8da2-032747213982.png);\r\n        background-size: 100% 100%;\r\n        background-color: white;\r\n        position: absolute;\r\n\r\n        top: 0px;\r\n        z-index: 9;\r\n    }\r\n\r\n    .page {\r\n    }\r\n\r\n    .response {\r\n        height: 50vh;\r\n    }\r\n\r\n</style>\r\n"]}]}