(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-rankingList-rankingList"],{"5dbb":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n("a34a")),i=n("c24f"),a=u(n("6b43"));n("fa7d");function u(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r,i,a,u){try{var o=e[a](u),s=o.value}catch(c){return void n(c)}o.done?t(s):Promise.resolve(s).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function u(e){o(a,r,i,u,s,"next",e)}function s(e){o(a,r,i,u,s,"throw",e)}u(void 0)})}}var c={name:"rankingList",data:function(){return{ranking:[],index:0,userInfo:a.default.get("userInfo"),active:0,gifts:[],ex_count:0,tabs:[{name:"周榜",key:"week"},{name:"月榜",key:"month"},{name:"总榜",key:"all"}],exInfo:{}}},onLoad:function(){var e=s(r.default.mark(function e(){return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.loadData({index:this.active});case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{handleTabChange:function(){var e=s(r.default.mark(function e(t){return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.active=t,this.loadData({index:t});case 2:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),loadData:function(){var e=s(r.default.mark(function e(){var t,n,a,u,o,s=arguments;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},n=t.index,a=void 0===n?0:n,uni.showLoading({title:"请稍后.."}),e.next=4,(0,i.getRanking)({type:this.tabs[a].key});case 4:u=e.sent,this.ranking=u.rank,this.ex_count=u.ex_count,e.t0=r.default.keys(this.ranking);case 8:if((e.t1=e.t0()).done){e.next=15;break}if(o=e.t1.value,this.userInfo.id!=this.ranking[o].uid){e.next=13;break}return this.index=1*o+1,e.abrupt("break",15);case 13:e.next=8;break;case 15:uni.hideLoading();case 16:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}};t.default=c},"64a0":function(e,t,n){"use strict";n.r(t);var r=n("a93a"),i=n("e12f");for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);var u=n("2877"),o=Object(u["a"])(i["default"],r["a"],r["b"],!1,null,"2fe2e693",null);t["default"]=o.exports},a93a:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[n("v-uni-view",{staticClass:"bg-blue flex  padding-xl justify-between shadow-blur shadow",staticStyle:{height:"300rpx","padding-left":"100rpx","padding-right":"100rpx"},attrs:{"hover-class":"bg-gradual-blue"}},[n("v-uni-view",{staticClass:" flex align-end"},[e._v("邀"),n("v-uni-text",{staticClass:"text-xxl"},[e._v(e._s(e.ex_count))]),e._v("人")],1),n("v-uni-view",{staticClass:"flex align-end"},[n("v-uni-view",{staticClass:"text-center"},[n("v-uni-view",{staticClass:"margin-bottom"},[e._v(e._s(e.userInfo.nickname))]),n("v-uni-view",{staticClass:"cu-avatar xl round",style:"background-image: url("+e.userInfo.headimgurl+")"})],1)],1),n("v-uni-view",{staticClass:" flex align-end"},[0==e.ex_count||e.index>20?n("div",[e._v("未上榜")]):n("div",[e._v("第"),n("v-uni-text",{staticClass:"text-xxl"},[e._v(e._s(this.index))]),n("v-uni-text",[e._v("名")])],1)])],1),n("v-uni-view",{staticClass:"bg-white padding-sm"},[n("v-uni-view",{staticClass:"flex justify-between margin  round bg-gray shadow"},e._l(e.tabs,function(t,r){return n("v-uni-view",{staticClass:"flex-sub text-center padding-sm round ",class:e.active===r?"bg-blue":"",attrs:{"hover-class":"bg-gradual-blue"},on:{click:function(t){t=e.$handleEvent(t),e.handleTabChange(r)}}},[e._v(e._s(t.name))])}),1)],1),n("v-uni-view",e._l(e.ranking.slice(0,20),function(t,r){return n("v-uni-view",{staticClass:"flex bg-white padding  align-center"},[n("v-uni-view",{staticClass:"flex flex-sub align-center"},[n("v-uni-view",{staticClass:"align-center  margin-left margin-right text-bold "},[e._v(e._s(r+1>9?r+1:"0"+(r+1)))]),n("v-uni-view",{staticClass:"cu-avatar round margin-right-sm md",style:"background-image: url("+t.headimgurl+")"}),n("v-uni-view",[n("v-uni-view",[e._v(e._s(t.nickname))]),r<11&&e.active<2?n("v-uni-view",{staticClass:"text-xs text-gray"},[e._v("赠:"+e._s(t.reward?t.reward.name:"无"))]):e._e()],1)],1),n("v-uni-view",{staticClass:"text-xxl margin-right-xl"},[e._v(e._s(t.value+t.fake))])],1)}),1)],1)},i=[];n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i})},e12f:function(e,t,n){"use strict";n.r(t);var r=n("5dbb"),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);t["default"]=i.a},fa7d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=l,t.comfirm=d,t.requestPayment=h,t.isJSON=p,t.navigateTo=w,t.decodeParams=m,t.dateDifference=x,t.dateFormat=y,t.isMobile=_,t.randomIntegerInRange=k;var r=i(n("a34a"));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){u(e,t,n[t])})}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t,n,r,i,a,u){try{var o=e[a](u),s=o.value}catch(c){return void n(c)}o.done?t(s):Promise.resolve(s).then(r,i)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function u(e){s(a,r,i,u,o,"next",e)}function o(e){s(a,r,i,u,o,"throw",e)}u(void 0)})}}function l(){return f.apply(this,arguments)}function f(){return f=c(r.default.mark(function e(){var t,n=arguments;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:1e3,e.abrupt("return",new Promise(function(e){setTimeout(function(){e(!0)},t)}));case 2:case"end":return e.stop()}},e)})),f.apply(this,arguments)}function d(e){return v.apply(this,arguments)}function v(){return v=c(r.default.mark(function e(t){return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log("调试:你调用了comfrm"),e.abrupt("return",new Promise(function(e,n){uni.showModal(a({},t,{success:function(t){var n=t.confirm;console.log("调试:showModal Success",n),e(n)},fail:function(e){console.log("错误:showModal Fail",e),n({origin:"comfirm方法",error:e})}}))}));case 2:case"end":return e.stop()}},e)})),v.apply(this,arguments)}function h(e){return g.apply(this,arguments)}function g(){return g=c(r.default.mark(function e(t){return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log("调试:requestPament接收到参数",t),e.next=3,new Promise(function(e,n){uni.requestPayment(a({},t,{success:e,fail:function(e){n({origin:"支付接口",error:e})}}))});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),g.apply(this,arguments)}function p(e){try{if("object"==o(JSON.parse(e)))return!0}catch(t){}return!1}function w(e){e.params&&(e.url="".concat(e.url).concat(b(e.params))),uni.navigateTo(e)}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="?";for(var n in e)t+="".concat(n,"=").concat(e[n],"&");return t.substring(0,t.length-1)}function m(e){var t={};return-1!==e.indexOf("?")?e.split("?")[1].split("&").forEach(function(e){t[e.split("=")[0]]=e.split("=")[1]}):e.split("&").forEach(function(e){t[e.split("=")[0]]=e.split("=")[1]}),t}function x(e,t){var n,r,i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"d",u={s:1e3,m:6e4,h:36e5,d:864e5};return e=e instanceof Date?e:new Date(e),t=t instanceof Date?t:new Date(t),n=e.getTime()-t.getTime(),n=Math.abs(n),r=n/u[a],"d"===a&&r%1!==0&&r<1?i=1:(i=Math.floor(r),r%1!==0&&(i+=1)),i}function y(e,t){var n=new Date(e),r={"Y+":n.getFullYear(),"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),S:n.getMilliseconds()},i=t;return/(y+)/.test(t)&&(i=t.replace(RegExp.$1,"".concat(n.getFullYear()).substr(4-RegExp.$1.length))),Object.keys(r).forEach(function(e){new RegExp("(".concat(e,")")).test(t)&&(i=i.replace(RegExp.$1,1===RegExp.$1.length?r[e]:"00".concat(r[e]).substr("".concat(r[e]).length)))}),i}function _(){var e=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);return e}function k(e,t){return Math.floor(Math.random()*(t-e+1))+e}}}]);