(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-message"],{"096a":function(t,e,n){"use strict";n.r(e);var i=n("f706"),a=n("4775");for(var s in a)"default"!==s&&function(t){n.d(e,t,function(){return a[t]})}(s);var u=n("2877"),o=Object(u["a"])(a["default"],i["a"],i["b"],!1,null,"eda5ba40",null);e["default"]=o.exports},"1e64":function(t,e,n){"use strict";n.r(e);var i=n("e293"),a=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,function(){return i[t]})}(s);e["default"]=a.a},"2c80":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"status",data:function(){return{StatusBar:this.StatusBar,CustomBar:this.CustomBar}},props:{image:{type:String,default:"../../static/no_data.png"},text:{type:String,default:""},buttons:{type:[Array,Object],default:function(){return[]}}},methods:{handleButtonClick:function(t){console.log("调试:",t),this.$emit("buttonTap",t)}}};e.default=i},"37f7":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[t.list.length?t._e():n("status",{attrs:{text:"暂无消息"}}),n("v-uni-view",{staticClass:"margin"},[t._l(t.list,function(e,i){return n("v-uni-view",{staticClass:"flex bg-white margin-top-sm padding radius-xxl justify-between",on:{click:function(n){n=t.$handleEvent(n),t.handleShowDetaile(e)}}},[n("v-uni-view",{staticClass:"flex "},[n("v-uni-view",{staticClass:"flex align-center"},[n("v-uni-view",{staticClass:"cu-avatar round lg",staticStyle:{"background-image":"url(../../static/notice_icon.png)"}})],1),n("v-uni-view",{staticClass:"content margin-left-sm "},[n("v-uni-view",{staticClass:"text-grey"},[t._v(t._s(e.title))]),n("v-uni-view",{staticClass:"text-gray text-sm margin-top-sm",staticStyle:{overflow:"hidden","text-overflow":"ellipsis"}},["coin"!==e.type||e.get_status?t._e():n("v-uni-text",{staticClass:"cuIcon-redpacket_fill text-red"}),t._v(t._s(e.remark))],1)],1)],1),n("v-uni-view",[n("v-uni-view",{staticClass:"text-xs text-gray  flex justify-end"},[t._v(t._s(e.created_at))]),n("v-uni-view",{staticClass:"flex justify-end margin-top-sm"},[n("v-uni-view",{staticClass:"cu-tag sm round text-xxxs   margin-top-sm ",class:["bg-red","bg-green"][e.read_status]},[t._v(t._s(["未读","已读"][e.read_status]))])],1)],1)],1)}),n("modal",{attrs:{"hide-footer":"",title:t.curentNotice.title},model:{value:t.detaileModelVisible,callback:function(e){t.detaileModelVisible=e},expression:"detaileModelVisible"}},[n("v-uni-view",{domProps:{innerHTML:t._s(t.curentNotice.content)}}),n("v-uni-view",{attrs:{slot:"footer"},slot:"footer"},[n("v-uni-view",{staticClass:"flex bg-white justify-center padding-sm"},[n("v-uni-button",{staticClass:"cu-btn round ",class:t.curentNotice.coin?"bg-green":"bg-blue",attrs:{disabled:"coin"===t.curentNotice.type&&0!=t.curentNotice.get_status},on:{click:function(e){e=t.$handleEvent(e),t.handleButtonClick(e)}}},[t._v(t._s(t.curentNotice.coin?t.curentNotice.get_status?"已领取":"领取":"知道了"))])],1)],1)],1)],2)],1)},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})},4775:function(t,e,n){"use strict";n.r(e);var i=n("2c80"),a=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,function(){return i[t]})}(s);e["default"]=a.a},"63f8":function(t,e,n){"use strict";n.r(e);var i=n("37f7"),a=n("828b");for(var s in a)"default"!==s&&function(t){n.d(e,t,function(){return a[t]})}(s);var u=n("2877"),o=Object(u["a"])(a["default"],i["a"],i["b"],!1,null,"5a0469f8",null);e["default"]=o.exports},"828b":function(t,e,n){"use strict";n.r(e);var i=n("9368"),a=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,function(){return i[t]})}(s);e["default"]=a.a},9368:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n("a34a")),a=n("c24f"),s=o(n("9b0c")),u=o(n("096a"));function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,i,a,s,u){try{var o=t[s](u),r=o.value}catch(c){return void n(c)}o.done?e(r):Promise.resolve(r).then(i,a)}function c(t){return function(){var e=this,n=arguments;return new Promise(function(i,a){var s=t.apply(e,n);function u(t){r(s,i,a,u,o,"next",t)}function o(t){r(s,i,a,u,o,"throw",t)}u(void 0)})}}var l={name:"message",components:{Status:u.default,Modal:s.default},data:function(){return{list:[],curentNotice:{},detaileModelVisible:!1}},onLoad:function(){var t=c(i.default.mark(function t(){var e;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return uni.showLoading({title:"请稍后"}),t.next=3,(0,a.getNotice)();case 3:e=t.sent,this.list=e.list,uni.hideLoading();case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:{handleShowDetaile:function(){var t=c(i.default.mark(function t(e){return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.curentNotice=e,0!=e.read_status){t.next=6;break}return t.next=4,(0,a.readNotice)({id:e.id});case 4:t.sent,e.read_status=1;case 6:this.detaileModelVisible=!0;case 7:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),handleButtonClick:function(){var t=c(i.default.mark(function t(){var e,n,s,u;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.curentNotice,e.coin,n=e.type,s=e.id,"coin"!==n){t.next=6;break}return t.next=4,(0,a.getNoticeCoin)({id:s}).catch(function(t){throw uni.showToast({title:"领取失败",icon:"none"}),t});case 4:u=t.sent,u&&(console.log("调试:领取成功",u),uni.showToast({title:"领取成功"}),this.curentNotice.get_status=1);case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}};e.default=l},"9b0c":function(t,e,n){"use strict";n.r(e);var i=n("db6c"),a=n("1e64");for(var s in a)"default"!==s&&function(t){n.d(e,t,function(){return a[t]})}(s);var u=n("2877"),o=Object(u["a"])(a["default"],i["a"],i["b"],!1,null,"d1a3c7a0",null);e["default"]=o.exports},db6c:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"cu-modal",class:t.show?"show":""},[n("v-uni-view",{staticClass:"cu-dialog",style:{backgroundColor:"none"===t.bgColor?"rgba(0,0,0,0)":""}},[t.showExternalCloseButton?n("v-uni-view",{staticClass:"drawer-modal-button flex justify-end"},[n("v-uni-view",{staticClass:"cuIcon-refresh text-white text-xl margin-right ",on:{click:function(e){e=t.$handleEvent(e),t.handleRefresh(e)}}}),n("v-uni-view",{staticClass:"cuIcon-close text-white text-xl margin-right ",on:{click:function(e){e=t.$handleEvent(e),t.hideModal(e)}}})],1):t._e(),t.hideHeader?t._e():n("v-uni-view",{class:"cu-bar "+("none"===t.bgColor?"":t.bgColor)+" justify-end"},[n("v-uni-view",{staticClass:"content"},[t._v(t._s(t.title))]),n("v-uni-view",{staticClass:"action",on:{click:function(e){e=t.$handleEvent(e),t.hideModal(e)}}},[n("v-uni-text",{staticClass:"cuIcon-close text-red"})],1)],1),n("v-uni-view",{class:"padding-xl "+("none"===t.bgColor?"":t.bgColor)},[t._t("default")],2),t.hideFooter?n("v-uni-view",[t._t("footer")],2):n("v-uni-view",{staticClass:"cu-bar "},[n("v-uni-view",{staticClass:"action margin-0 flex-sub text-green ",on:{click:function(e){e=t.$handleEvent(e),t.hideModal(e)}}},[n("v-uni-view",{staticClass:"action margin-0 flex-sub  ",on:{click:function(e){e=t.$handleEvent(e),t.onConfirm(e)}}},[t._v("确定")]),n("v-uni-view",{staticClass:"action margin-0 flex-sub text-gray solid-left",on:{click:function(e){e=t.$handleEvent(e),t.onCancel(e)}}},[t._v("取消")])],1)],1)],1)],1)},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})},e293:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"modal",data:function(){return{show:!1}},props:{title:{type:String,default:"标题"},value:{type:Boolean,default:!1},hideHeader:{type:Boolean,default:!1},hideFooter:{type:Boolean,default:!1},showExternalCloseButton:{type:Boolean,default:!1},bgColor:{type:String,default:"bg-white"}},computed:{},watch:{value:function(t){this.show=t}},methods:{hideModal:function(){this.show=!1,this.$emit("input",this.show)},handleRefresh:function(){this.$emit("onRefresh")},onConfirm:function(){this.$emit("onConfirm")},onCancel:function(){this.$emit("onCancel")}}};e.default=i},f706:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"text-center   flex align-center justify-center bg-white",style:"height: calc(100vh - 0px)"},[n("v-uni-view",[n("v-uni-image",{attrs:{src:t.image}}),n("v-uni-view",{staticClass:"text-gray"},[n("v-uni-text",{staticClass:"margin-bottom"},[t._v(t._s(t.text))]),t._l(t.buttons,function(e,i){return n("v-uni-button",{staticClass:"bg-green margin-top round",on:{click:function(n){n=t.$handleEvent(n),t.handleButtonClick(e)}}},[t._v(t._s(e.text))])})],2)],1)],1)},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})}}]);