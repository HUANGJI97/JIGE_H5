(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-consumeRecord-consumeRecord~pages-index-index~pages-login-login~pages-nmsl-nmsl~pages-rankingL~e7a409f3"],{"6b43":function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(){o(this,e)}return u(e,[{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.sync,o=void 0===r||r;return t=t instanceof Object?JSON.stringify(t):t,o?uni.setStorageSync(e,t):new Promise(function(n,r){uni.setStorage({key:e,data:t,success:n,fail:r})})}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.sync,r=void 0===n||n;if(r){var o=uni.getStorageSync(e);return this.isJSON(o)&&(o=JSON.parse(o)),o}return new Promise(function(t,n){uni.getStorage({key:e,success:t,fail:n})})}},{key:"del",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.sync,r=void 0===n||n;return r?uni.removeStorageSync(e):new Promise(function(t,n){uni.removeStorage({key:e,success:t,fail:n})})}},{key:"isJSON",value:function(e){try{if("object"==r(JSON.parse(e)))return!0}catch(t){}return!1}}]),e}(),c=new i,s=c;t.default=s},a34a:function(e,t,n){e.exports=n("bbdd")},a603:function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=function(){function e(){o(this,e),i(this,"config",{baseUrl:"",header:{"Content-Type":"application/json;charset=UTF-8"},method:"GET",dataType:"json",responseType:"text",success:function(){},fail:function(){},complete:function(){}}),i(this,"interceptor",{request:function(t){t&&(e.requestBeforeFun=t)},response:function(t){t&&(e.requestComFun=t)}})}return u(e,[{key:"setConfig",value:function(e){this.config=e(this.config)}},{key:"request",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.baseUrl=n.baseUrl||this.config.baseUrl,n.dataType=n.dataType||this.config.dataType,n.url=e.posUrl(n.url)?n.url:n.baseUrl+n.url,n.data=n.data||{},n.header=n.header||this.config.header,n.method=n.method||this.config.method,new Promise(function(o,a){var u=!0,i=null;n.complete=function(t){var n=t.statusCode;t.config=i,t=e.requestComFun(t),200===n?o(t):a(t)};var c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"handle cancel",t={errMsg:e,config:s};a(t),u=!1},s=r({},t.config,n);i=r({},s,e.requestBeforeFun(s,c)),console.log("调试:输出_config",i),u&&uni.request(i)})}},{key:"get",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.url?n=e:(n.url=e,n.data=t),n.method="GET",this.request(n)}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.url?n=e:(n.url=e,n.data=t),n.method="POST",this.request(n)}}],[{key:"posUrl",value:function(e){return/(http|https):\/\/([\w.]+\/?)\S*/.test(e)}},{key:"requestBeforeFun",value:function(e){return e}},{key:"requestComFun",value:function(e){return e}}]),e}();t.default=c},b775:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.request=void 0;var r=a(n("a603")),o=a(n("6b43"));function a(e){return e&&e.__esModule?e:{default:e}}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=new r.default;t.request=c,c.setConfig(function(e){return e.baseUrl="http://eleme.lianfangti.cn",e}),c.interceptor.request(function(e,t){return e.header=u({},e.header,{token:o.default.get("token")||"","X-Token":o.default.get("X-Token")||""}),e}),c.interceptor.response(function(e){if(0!==e.data.code){var t="".concat(e.config.method," ").concat(e.config.url.replace(e.config.base,""));if(400===e.data.code&&(window.location.href=window.location.protocol+"//"+window.location.host),403===e.data.code){o.default.del("X-Token");var n=window.location.protocol+"//"+window.location.host+"/"+window.location.search;console.log("调试:要跳转的",n,window.location),window.location.href=n}return Promise.reject({from:t,error:e.data||e.data})}return e.data})},bbdd:function(e,t,n){var r=function(){return this||"object"===typeof self&&self}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,a=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n("96cf"),o)r.regeneratorRuntime=a;else try{delete r.regeneratorRuntime}catch(u){r.regeneratorRuntime=void 0}},c24f:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUserInfo=s,t.getNMSL=f,t.pullNMSL=p,t.getRanking=g,t.getNotice=y,t.readNotice=b,t.getNoticeCoin=k,t.getExtensionCode=j,t.getExtensionUser=q,t.getAccessToken=P,t.Login=_,t.checkSignin=N,t.signin=M,t.getMobile=E;var r=u(n("a34a")),o=n("b775"),a=u(n("6b43"));function u(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r,o,a,u){try{var i=e[a](u),c=i.value}catch(s){return void n(s)}i.done?t(c):Promise.resolve(c).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function u(e){i(a,r,o,u,c,"next",e)}function c(e){i(a,r,o,u,c,"throw",e)}u(void 0)})}}function s(e){return l.apply(this,arguments)}function l(){return l=c(r.default.mark(function e(t){var n,u,i,c;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.access_token,u=t.token,i=t.openid,e.next=3,o.request.get({url:"/jige/userinfo",data:{access_token:n,token:u,openid:i}});case 3:return c=e.sent,a.default.set("userInfo",c.data),e.abrupt("return",c.data);case 6:case"end":return e.stop()}},e)})),l.apply(this,arguments)}function f(){return d.apply(this,arguments)}function d(){return d=c(r.default.mark(function e(){var t,n,a,u,i=arguments;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},n=t.type,a=void 0===n?"ktff":n,e.next=3,o.request.get({url:"/jige/nmsl",data:{type:a}});case 3:return u=e.sent,e.abrupt("return",u.data);case 5:case"end":return e.stop()}},e)})),d.apply(this,arguments)}function p(e){return h.apply(this,arguments)}function h(){return h=c(r.default.mark(function e(t){var n,a,u;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.type,a=void 0===n?"ktff":n,e.next=3,o.request.get({url:"/jige/pullnmsl",data:{type:a}});case 3:return u=e.sent,e.abrupt("return",u.data);case 5:case"end":return e.stop()}},e)})),h.apply(this,arguments)}function g(){return v.apply(this,arguments)}function v(){return v=c(r.default.mark(function e(){var t,n,a,u,i=arguments;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},n=t.type,a=void 0===n?"all":n,e.next=3,o.request.get({url:"/jige/rank",data:{type:a}});case 3:return u=e.sent,e.abrupt("return",u.data);case 5:case"end":return e.stop()}},e)})),v.apply(this,arguments)}function y(){return w.apply(this,arguments)}function w(){return w=c(r.default.mark(function e(){var t,n,a,u,i=arguments;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},n=t.status,a=void 0===n?"all":n,e.next=3,o.request.get({url:"/notice/list",data:{status:a}});case 3:return u=e.sent,e.abrupt("return",u.data);case 5:case"end":return e.stop()}},e)})),w.apply(this,arguments)}function b(e){return m.apply(this,arguments)}function m(){return m=c(r.default.mark(function e(t){var n,a;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,o.request.post({url:"/notice/read",data:{id:n}});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}},e)})),m.apply(this,arguments)}function k(e){return x.apply(this,arguments)}function x(){return x=c(r.default.mark(function e(t){var n,a;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,o.request.post({url:"/notice/getcoin",data:{id:n}});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}},e)})),x.apply(this,arguments)}function j(){return O.apply(this,arguments)}function O(){return O=c(r.default.mark(function e(){var t;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!a.default.get("exCode")){e.next=4;break}return e.abrupt("return",a.default.get("exCode"));case 4:return e.next=6,o.request.get({url:"/jige/extensioncode"});case 6:return t=e.sent,a.default.set("exCode",t.data),e.abrupt("return",t.data);case 9:case"end":return e.stop()}},e)})),O.apply(this,arguments)}function q(){return S.apply(this,arguments)}function S(){return S=c(r.default.mark(function e(){var t,n,u,i,c,s,l,f,d,p,h,g=arguments;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=g.length>0&&void 0!==g[0]?g[0]:{},n=t.page,u=void 0===n?1:n,i=t.size,c=void 0===i?20:i,s=t.type,l=void 0===s?"all":s,f=a.default.get("token"),d=a.default.get("userInfo"),p=d.id,e.next=5,o.request.get({url:"/jige/extensionuser",data:{token:f,id:p,page:u,size:c,type:l}});case 5:return h=e.sent,e.abrupt("return",h.data);case 7:case"end":return e.stop()}},e)})),S.apply(this,arguments)}function P(e){return T.apply(this,arguments)}function T(){return T=c(r.default.mark(function e(t){var n,u,i;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.code,u=t.token,e.next=3,o.request.get({url:"/jige/access_token",data:{code:n,token:u}}).catch(function(e){var t=e.error;return console.log("调试:错误",t),t.code&&_({token:u}),Promise.reject(t)});case 3:return i=e.sent,console.log("调试:获取到的AccessToken信息",i.data),a.default.set("X-Token",i.data.openid),a.default.set("tokens",i.data),e.abrupt("return",i.data);case 8:case"end":return e.stop()}},e)})),T.apply(this,arguments)}function _(e){return C.apply(this,arguments)}function C(){return C=c(r.default.mark(function e(t){var n,a,u,i,c;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.token,a=t.env,u=void 0===a?"prod":a,console.log("调试:开始登录",n),e.next=4,o.request.get({url:"/jige/login",data:{token:n,env:u}}).catch(function(e){var t=e.error;console.log("调试:出错",t),400==t.code&&(window.location.href=window.location.protocol+"//"+window.location.host)});case 4:i=e.sent,c=i.data.url,window.location.href=c,console.log("调试:获取授权url",c);case 8:case"end":return e.stop()}},e)})),C.apply(this,arguments)}function N(){return U.apply(this,arguments)}function U(){return U=c(r.default.mark(function e(){var t;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o.request.get({url:"/jige/checksignin"});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)})),U.apply(this,arguments)}function M(){return R.apply(this,arguments)}function R(){return R=c(r.default.mark(function e(){var t;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o.request.post({url:"/jige/signin"});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)})),R.apply(this,arguments)}function E(e){return F.apply(this,arguments)}function F(){return F=c(r.default.mark(function e(t){var n,a,u;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.encryptedData,a=t.iv,e.next=3,o.request.post({url:"/wxfanmobile",data:{encryptedData:n,iv:a}});case 3:u=e.sent,console.log("调试:获取手机号信息",u);case 5:case"end":return e.stop()}},e)})),F.apply(this,arguments)}}}]);